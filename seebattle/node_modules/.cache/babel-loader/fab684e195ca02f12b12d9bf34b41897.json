{"ast":null,"code":"var _jsxFileName = \"/home/anushik/Desktop/dip/seebattle/src/components/GameComponent.jsx\";\nimport React, { Component } from 'react';\nimport Service from '../services/Service';\nimport { Link, withRouter } from \"react-router-dom\";\nimport Stylesheet from './Stylesheet'; // var CONST = {};\n// \tCONST.AVAILABLE_SHIPS = ['1.1', '1.2', '1.3', '1.4', '2.1', '2.2', '2.3', '3.1', '3.2', '4.1'];\n// \t// You are player 0 and the computer is player 1\n// \t// The virtual player is used for generating temporary ships\n// \t// for calculating the probability heatmap\n// \tCONST.HUMAN_PLAYER = 0;\n// \tCONST.COMPUTER_PLAYER = 1;\n// \tCONST.VIRTUAL_PLAYER = 2;\n// \t// Possible values for the parameter `type` (string)\n// \tCONST.CSS_TYPE_EMPTY = 'empty';\n// \tCONST.CSS_TYPE_SHIP = 'ship';\n// \tCONST.CSS_TYPE_MISS = 'miss';\n// \tCONST.CSS_TYPE_HIT = 'hit';\n// \tCONST.CSS_TYPE_SUNK = 'sunk';\n// \t// Grid code:\n// \tCONST.TYPE_EMPTY = 0; // 0 = water (empty)\n// \tCONST.TYPE_SHIP = 1; // 1 = undamaged ship\n// \tCONST.TYPE_MISS = 2; // 2 = water with a cannonball in it (missed shot)\n// \tCONST.TYPE_HIT = 3; // 3 = damaged ship (hit shot)\n// \tCONST.TYPE_SUNK = 4; // 4 = sunk ship\n// \tCONST.TYPE_NOT_ALLOWED = 5;\n// \tGame.usedShips = [CONST.UNUSED, CONST.UNUSED, CONST.UNUSED, CONST.UNUSED, CONST.UNUSED];\n// \tCONST.USED = 1;\n// \tCONST.UNUSED = 0;\n//     function Game(size) {\n// \t\tGame.size = size;\n// \t\tthis.shotsTaken = 0;\n// \t\tthis.createGrid();\n// \t\tthis.init();\n// \t}\n// \tGame.size = 10; // Default grid size is 10x10\n// \tGame.gameOver = false;\n// \t// Checks if the game is won, and if it is, re-initializes the game\n// \tGame.prototype.checkIfWon = function() {\n// \t\tif (this.computerFleet.allShipsSunk()) {\n// \t\t\talert('Congratulations, you win!');\n// \t\t\tGame.gameOver = true;\n// \t\t\t// Game.stats.wonGame();\n// \t\t\t// Game.stats.syncStats();\n// \t\t\t// Game.stats.updateStatsSidebar();\n// \t\t\tthis.showRestartSidebar();\n// \t\t} else if (this.humanFleet.allShipsSunk()) {\n// \t\t\talert('Yarr! The computer sank all your ships. Try again.');\n// \t\t\tGame.gameOver = true;\n// \t\t\t// Game.stats.lostGame();\n// \t\t\t// Game.stats.syncStats();\n// \t\t\t// Game.stats.updateStatsSidebar();\n// \t\t\tthis.showRestartSidebar();\n// \t\t}\n// \t};\n// \t// Shoots at the target player on the grid.\n// \t// Returns {int} Constants.TYPE: What the shot uncovered\n// \tGame.prototype.shoot = function(x, y, targetPlayer) {\n// \t\tlet targetGrid;\n// \t\tlet targetFleet;\n// \t\tif (targetPlayer === CONST.HUMAN_PLAYER) {\n// \t\t\ttargetGrid = this.humanGrid;\n// \t\t\ttargetFleet = this.humanFleet;\n// \t\t} else if (targetPlayer === CONST.COMPUTER_PLAYER) {\n// \t\t\ttargetGrid = this.computerGrid;\n// \t\t\ttargetFleet = this.computerFleet;\n// \t\t} else {\n// \t\t\t// Should never be called\n// \t\t\tconsole.log(\"There was an error trying to find the correct player to target\");\n// \t\t}\n// \t\tif (targetGrid.isDamagedShip(x, y)) {\n// \t\t\treturn null;\n// \t\t} else if (targetGrid.isMiss(x, y)) {\n// \t\t\treturn null;\n// \t\t} else if (targetGrid.isUndamagedShip(x, y)) {\n// \t\t\t// update the board/grid\n// \t\t\ttargetGrid.updateCell(x, y, 'hit', targetPlayer);\n// \t\t\t// IMPORTANT: This function needs to be called _after_ updating the cell to a 'hit',\n// \t\t\t// because it overrides the CSS class to 'sunk' if we find that the ship was sunk\n// \t\t\ttargetFleet.findShipByCoords(x, y).incrementDamage(); // increase the damage\n// \t\t\tthis.checkIfWon();\n// \t\t\treturn CONST.TYPE_HIT;\n// \t\t} else {\n// \t\t\ttargetGrid.updateCell(x, y, 'miss', targetPlayer);\n// \t\t\tthis.checkIfWon();\n// \t\t\treturn CONST.TYPE_MISS;\n// \t\t}\n// \t};\n// \t// Creates click event listeners on each one of the 100 grid cells\n// \tGame.prototype.shootListener = function(e) {\n// \t\tvar self = e.target.self;\n// \t\t// Extract coordinates from event listener\n// \t\tvar x = parseInt(e.target.getAttribute('data-x'), 10);\n// \t\tvar y = parseInt(e.target.getAttribute('data-y'), 10);\n// \t\tvar result = null;\n// \t\tif (self.readyToPlay) {\n// \t\t\tresult = self.shoot(x, y, CONST.COMPUTER_PLAYER);\n// \t\t\t// Remove the tutorial arrow\n// \t\t\tif (gameTutorial.showTutorial) {\n// \t\t\t\tgameTutorial.nextStep();\n// \t\t\t}\n// \t\t}\n// \t\tif (result !== null && !Game.gameOver) {\n// \t\t\t//Game.stats.incrementShots();\n// \t\t\t// if (result === CONST.TYPE_HIT) {\n// \t\t\t// \tGame.stats.hitShot();\n// \t\t\t// }\n// \t\t\t// The AI shoots iff the player clicks on a cell that he/she hasn't\n// \t\t\t// already clicked on yet\n// \t\t\tself.robot.shoot();\n// \t\t} else {\n// \t\t\tGame.gameOver = false;\n// \t\t}\n// \t};\n// \t// Creates click event listeners on each of the ship names in the roster\n// \tGame.prototype.rosterListener = function(e) {\n// \t\tvar self = e.target.self;\n// \t\t// Remove all classes of 'placing' from the fleet roster first\n// \t\tvar roster = document.querySelectorAll('.fleet-roster li');\n// \t\tfor (var i = 0; i < roster.length; i++) {\n// \t\t\tvar classes = roster[i].getAttribute('class') || '';\n// \t\t\tclasses = classes.replace('placing', '');\n// \t\t\troster[i].setAttribute('class', classes);\n// \t\t}\n// \t\t// Move the highlight to the next step\n// \t\tif (gameTutorial.currentStep === 1) {\n// \t\t\tgameTutorial.nextStep();\n// \t\t}\n// \t\t// Set the class of the target ship to 'placing'\n// \t\tGame.placeShipType = e.target.getAttribute('id');\n// \t\tdocument.getElementById(Game.placeShipType).setAttribute('class', 'placing');\n// \t\tGame.placeShipDirection = parseInt(document.getElementById('rotate-button').getAttribute('data-direction'), 10);\n// \t\tself.placingOnGrid = true;\n// \t};\n// \t// Creates click event listeners on the human player's grid to handle\n// \t// ship placement after the user has selected a ship name\n// \tGame.prototype.placementListener = function(e) {\n// \t\tvar self = e.target.self;\n// \t\tif (self.placingOnGrid) {\n// \t\t\t// Extract coordinates from event listener\n// \t\t\tvar x = parseInt(e.target.getAttribute('data-x'), 10);\n// \t\t\tvar y = parseInt(e.target.getAttribute('data-y'), 10);\n// \t\t\t// Don't screw up the direction if the user tries to place again.\n// \t\t\tvar successful = self.humanFleet.placeShip(x, y, Game.placeShipDirection, Game.placeShipType);\n// \t\t\tif (successful) {\n// \t\t\t\t// Done placing this ship\n// \t\t\t\tself.endPlacing(Game.placeShipType);\n// \t\t\t\t// Remove the helper arrow\n// \t\t\t\tif (gameTutorial.currentStep === 2) {\n// \t\t\t\t\tgameTutorial.nextStep();\n// \t\t\t\t}\n// \t\t\t\tself.placingOnGrid = false;\n// \t\t\t\tif (self.areAllShipsPlaced()) {\n// \t\t\t\t\tvar el = document.getElementById('rotate-button');\n// \t\t\t\t\tel.addEventListener(transitionEndEventName(),(function(){\n// \t\t\t\t\t\tel.setAttribute('class', 'hidden');\n// \t\t\t\t\t\tif (gameTutorial.showTutorial) {\n// \t\t\t\t\t\t\tdocument.getElementById('start-game').setAttribute('class', 'highlight');\n// \t\t\t\t\t\t} else {\n// \t\t\t\t\t\t\tdocument.getElementById('start-game').removeAttribute('class');\t\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}),false);\n// \t\t\t\t\tel.setAttribute('class', 'invisible');\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Creates mouseover event listeners that handles mouseover on the\n// \t// human player's grid to draw a phantom ship implying that the user\n// \t// is allowed to place a ship there\n// \tGame.prototype.placementMouseover = function(e) {\n// \t\tvar self = e.target.self;\n// \t\tif (self.placingOnGrid) {\n// \t\t\tvar x = parseInt(e.target.getAttribute('data-x'), 10);\n// \t\t\tvar y = parseInt(e.target.getAttribute('data-y'), 10);\n// \t\t\tvar classes;\n// \t\t\tvar fleetRoster = self.humanFleet.fleetRoster;\n// \t\t\tfor (var i = 0; i < fleetRoster.length; i++) {\n// \t\t\t\tvar shipType = fleetRoster[i].type;\n// \t\t\t\tif (Game.placeShipType === shipType &&\n// \t\t\t\t\tfleetRoster[i].isLegal(x, y, Game.placeShipDirection)) {\n// \t\t\t\t\t// Virtual ship\n// \t\t\t\t\tfleetRoster[i].create(x, y, Game.placeShipDirection, true);\n// \t\t\t\t\tGame.placeShipCoords = fleetRoster[i].getAllShipCells();\n// \t\t\t\t\tfor (var j = 0; j < Game.placeShipCoords.length; j++) {\n// \t\t\t\t\t\tvar el = document.querySelector('.grid-cell-' + Game.placeShipCoords[j].x + '-' + Game.placeShipCoords[j].y);\n// \t\t\t\t\t\tclasses = el.getAttribute('class');\n// \t\t\t\t\t\t// Check if the substring ' grid-ship' already exists to avoid adding it twice\n// \t\t\t\t\t\tif (classes.indexOf(' grid-ship') < 0) {\n// \t\t\t\t\t\t\tclasses += ' grid-ship';\n// \t\t\t\t\t\t\tel.setAttribute('class', classes);\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Creates mouseout event listeners that un-draws the phantom ship\n// \t// on the human player's grid as the user hovers over a different cell\n// \tGame.prototype.placementMouseout = function(e) {\n// \t\tvar self = e.target.self;\n// \t\tif (self.placingOnGrid) {\n// \t\t\tfor (var j = 0; j < Game.placeShipCoords.length; j++) {\n// \t\t\t\tvar el = document.querySelector('.grid-cell-' + Game.placeShipCoords[j].x + '-' + Game.placeShipCoords[j].y);\n// \t\t\t\tvar classes = el.getAttribute('class');\n// \t\t\t\t// Check if the substring ' grid-ship' already exists to avoid adding it twice\n// \t\t\t\tif (classes.indexOf(' grid-ship') > -1) {\n// \t\t\t\t\tclasses = classes.replace(' grid-ship', '');\n// \t\t\t\t\tel.setAttribute('class', classes);\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Click handler for the Rotate Ship button\n// \tGame.prototype.toggleRotation = function(e) {\n// \t\t// Toggle rotation direction\n// \t\tvar direction = parseInt(e.target.getAttribute('data-direction'), 10);\n// \t\tif (direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\te.target.setAttribute('data-direction', '1');\n// \t\t\tGame.placeShipDirection = Ship.DIRECTION_HORIZONTAL;\n// \t\t} else if (direction === Ship.DIRECTION_HORIZONTAL) {\n// \t\t\te.target.setAttribute('data-direction', '0');\n// \t\t\tGame.placeShipDirection = Ship.DIRECTION_VERTICAL;\n// \t\t}\n// \t};\n// \t// Click handler for the Start Game button\n// \tGame.prototype.startGame = function(e) {\n// \t\tvar self = e.target.self;\n// \t\tvar el = document.getElementById('roster-sidebar');\n// \t\tvar fn = function() {el.setAttribute('class', 'hidden');};\n// \t\tel.addEventListener(transitionEndEventName(),fn,false);\n// \t\tel.setAttribute('class', 'invisible');\n// \t\tself.readyToPlay = true;\n// \t\t// Advanced the tutorial step\n// \t\tif (gameTutorial.currentStep === 3) {\n// \t\t\tgameTutorial.nextStep();\n// \t\t}\n// \t\tel.removeEventListener(transitionEndEventName(),fn,false);\n// \t};\n// \t// Click handler for Restart Game button\n// \tGame.prototype.restartGame = function(e) {\n// \t\te.target.removeEventListener(e.type, arguments.callee);\n// \t\tvar self = e.target.self;\n// \t\tdocument.getElementById('restart-sidebar').setAttribute('class', 'hidden');\n// \t\tself.resetFogOfWar();\n// \t\tself.init();\n// \t};\n// \t// Debugging function used to place all ships and just start\n// \tGame.prototype.placeRandomly = function(e){\n// \t\te.target.removeEventListener(e.type, arguments.callee);\n// \t\te.target.self.humanFleet.placeShipsRandomly();\n// \t\te.target.self.readyToPlay = true;\n// \t\tdocument.getElementById('roster-sidebar').setAttribute('class', 'hidden');\n// \t\tthis.setAttribute('class', 'hidden');\n// \t};\n// \t// Ends placing the current ship\n// \tGame.prototype.endPlacing = function(shipType) {\n// \t\tdocument.getElementById(shipType).setAttribute('class', 'placed');\n// \t\t// Mark the ship as 'used'\n// \t\tGame.usedShips[CONST.AVAILABLE_SHIPS.indexOf(shipType)] = CONST.USED;\n// \t\t// Wipe out the variable when you're done with it\n// \t\tGame.placeShipDirection = null;\n// \t\tGame.placeShipType = '';\n// \t\tGame.placeShipCoords = [];\n// \t};\n// \t// Checks whether or not all ships are done placing\n// \t// Returns boolean\n// \tGame.prototype.areAllShipsPlaced = function() {\n// \t\tvar playerRoster = document.querySelectorAll('.fleet-roster li');\n// \t\tfor (var i = 0; i < playerRoster.length; i++) {\n// \t\t\tif (playerRoster[i].getAttribute('class') === 'placed') {\n// \t\t\t\tcontinue;\n// \t\t\t} else {\n// \t\t\t\treturn false;\n// \t\t\t}\n// \t\t}\n// \t\t// Reset temporary variables\n// \t\tGame.placeShipDirection = 0;\n// \t\tGame.placeShipType = '';\n// \t\tGame.placeShipCoords = [];\n// \t\treturn true;\n// \t};\n// \t// Resets the fog of war\n// \tGame.prototype.resetFogOfWar = function() {\n// \t\tfor (var i = 0; i < Game.size; i++) {\n// \t\t\tfor (var j = 0; j < Game.size; j++) {\n// \t\t\t\tthis.humanGrid.updateCell(i, j, 'empty', CONST.HUMAN_PLAYER);\n// \t\t\t\tthis.computerGrid.updateCell(i, j, 'empty', CONST.COMPUTER_PLAYER);\n// \t\t\t}\n// \t\t}\n// \t\t// Reset all values to indicate the ships are ready to be placed again\n// \t\tGame.usedShips = Game.usedShips.map(function(){return CONST.UNUSED;});\n// \t};\n// \t// Resets CSS styling of the sidebar\n// \tGame.prototype.resetRosterSidebar = function() {\n// \t\tconsole.log(document.getElementById('fleet-roster'));\n// \t\tvar els = document.querySelector('.fleet-roster').querySelectorAll('li');\n// \t\tfor (var i = 0; i < els.length; i++) {\n// \t\t\tels[i].removeAttribute('class');\n// \t\t}\n// \t\tif (gameTutorial.showTutorial) {\n// \t\t\tgameTutorial.nextStep();\n// \t\t} else {\n// \t\t\tdocument.getElementById('roster-sidebar').removeAttribute('class');\n// \t\t}\n// \t\tdocument.getElementById('rotate-button').removeAttribute('class');\n// \t\tdocument.getElementById('start-game').setAttribute('class', 'hidden');\n// \t\t// if (DEBUG_MODE) {\n// \t\t// \tdocument.getElementById('place-randomly').removeAttribute('class');\n// \t\t// }\n// \t};\n// \tGame.prototype.showRestartSidebar = function() {\n// \t\tvar sidebar = document.getElementById('restart-sidebar');\n// \t\tsidebar.setAttribute('class', 'highlight');\n// \t\t// Deregister listeners\n// \t\tvar computerCells = document.querySelector('.computer-player').childNodes;\n// \t\tfor (var j = 0; j < computerCells.length; j++) {\n// \t\t\tcomputerCells[j].removeEventListener('click', this.shootListener, false);\n// \t\t}\n// \t\tvar playerRoster = document.querySelector('.fleet-roster').querySelectorAll('li');\n// \t\tfor (var i = 0; i < playerRoster.length; i++) {\n// \t\t\tplayerRoster[i].removeEventListener('click', this.rosterListener, false);\n// \t\t}\n// \t\tvar restartButton = document.getElementById('restart-game');\n// \t\trestartButton.addEventListener('click', this.restartGame, false);\n// \t\trestartButton.self = this;\n// \t};\n// \t// Generates the HTML divs for the grid for both players\n// \tGame.prototype.createGrid = function() {\n// \t\tvar gridDiv = document.querySelectorAll('.grid');\n// \t\tfor (var grid = 0; grid < gridDiv.length; grid++) {\n// \t\t\tgridDiv[grid].removeChild(gridDiv[grid].querySelector('.no-js')); // Removes the no-js warning\n// \t\t\tfor (var i = 0; i < Game.size; i++) {\n// \t\t\t\tfor (var j = 0; j < Game.size; j++) {\n// \t\t\t\t\tvar el = document.createElement('div');\n// \t\t\t\t\tel.setAttribute('data-x', i);\n// \t\t\t\t\tel.setAttribute('data-y', j);\n// \t\t\t\t\tel.setAttribute('class', 'grid-cell grid-cell-' + i + '-' + j);\n// \t\t\t\t\tgridDiv[grid].appendChild(el);\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Initializes the Game. Also resets the game if previously initialized\n// \tGame.prototype.init = function() {\n// \t\tthis.humanGrid = new Grid(Game.size);\n// \t\tthis.computerGrid = new Grid(Game.size);\n// \t\tthis.humanFleet = new Fleet(this.humanGrid, CONST.HUMAN_PLAYER);\n// \t\tthis.computerFleet = new Fleet(this.computerGrid, CONST.COMPUTER_PLAYER);\n// \t\tthis.robot = new AI(this);\n// \t\t//Game.stats = new Stats();\n// \t\t//Game.stats.updateStatsSidebar();\n// \t\t// Reset game variables\n// \t\tthis.shotsTaken = 0;\n// \t\tthis.readyToPlay = false;\n// \t\tthis.placingOnGrid = false;\n// \t\tGame.placeShipDirection = 0;\n// \t\tGame.placeShipType = '';\n// \t\tGame.placeShipCoords = [];\n//         this.resetRosterSidebar();\n// \t\t// Add a click listener for the Grid.shoot() method for all cells\n// \t\t// Only add this listener to the computer's grid\n// \t\tvar computerCells = document.querySelector('.computer-player').childNodes;\n// \t\tfor (var j = 0; j < computerCells.length; j++) {\n// \t\t\tcomputerCells[j].self = this;\n// \t\t\tcomputerCells[j].addEventListener('click', this.shootListener, false);\n// \t\t}\n// \t\t// Add a click listener to the roster\t\n// \t\tvar playerRoster = document.querySelector('.fleet-roster').querySelectorAll('li');\n// \t\tfor (var i = 0; i < playerRoster.length; i++) {\n// \t\t\tplayerRoster[i].self = this;\n// \t\t\tplayerRoster[i].addEventListener('click', this.rosterListener, false);\n// \t\t}\n// \t\t// Add a click listener to the human player's grid while placing\n// \t\tvar humanCells = document.querySelector('.human-player').childNodes;\n// \t\tfor (var k = 0; k < humanCells.length; k++) {\n// \t\t\thumanCells[k].self = this;\n// \t\t\thumanCells[k].addEventListener('click', this.placementListener, false);\n// \t\t\thumanCells[k].addEventListener('mouseover', this.placementMouseover, false);\n// \t\t\thumanCells[k].addEventListener('mouseout', this.placementMouseout, false);\n// \t\t}\n// \t\tvar rotateButton = document.getElementById('rotate-button');\n// \t\trotateButton.addEventListener('click', this.toggleRotation, false);\n// \t\tvar startButton = document.getElementById('start-game');\n// \t\tstartButton.self = this;\n// \t\tstartButton.addEventListener('click', this.startGame, false);\n// \t\t// var resetButton = document.getElementById('reset-stats');\n// \t\t// resetButton.addEventListener('click', Game.stats.resetStats, false);\n// \t\tvar randomButton = document.getElementById('place-randomly');\n// \t\trandomButton.self = this;\n// \t\trandomButton.addEventListener('click', this.placeRandomly, false);\n// \t\tthis.computerFleet.placeShipsRandomly();\n// \t};\n// \t// Grid object\n// \t// Constructor\n// \tfunction Grid(size) {\n// \t\tthis.size = size;\n// \t\tthis.cells = [];\n// \t\tthis.init();\n// \t}\n// \t// Initialize and populate the grid\n// \tGrid.prototype.init = function() {\n// \t\tfor (var x = 0; x < this.size; x++) {\n// \t\t\tvar row = [];\n// \t\t\tthis.cells[x] = row;\n// \t\t\tfor (var y = 0; y < this.size; y++) {\n// \t\t\t\trow.push(CONST.TYPE_EMPTY);\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Updates the cell's CSS class based on the type passed in\n// \tGrid.prototype.updateCell = function(x, y, type, targetPlayer) {\n// \t\tvar player;\n// \t\tif (targetPlayer === CONST.HUMAN_PLAYER) {\n// \t\t\tplayer = 'human-player';\n// \t\t} else if (targetPlayer === CONST.COMPUTER_PLAYER) {\n// \t\t\tplayer = 'computer-player';\n// \t\t} else {\n// \t\t\t// Should never be called\n// \t\t\tconsole.log(\"There was an error trying to find the correct player's grid\");\n// \t\t}\n// \t\tswitch (type) {\n// \t\t\tcase CONST.CSS_TYPE_EMPTY:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_EMPTY;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.CSS_TYPE_SHIP:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_SHIP;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.CSS_TYPE_MISS:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_MISS;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.CSS_TYPE_HIT:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_HIT;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.CSS_TYPE_SUNK:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_SUNK;\n// \t\t\t\tbreak;\n// \t\t\tdefault:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_EMPTY;\n// \t\t\t\tbreak;\n// \t\t}\n// \t\tvar classes = ['grid-cell', 'grid-cell-' + x + '-' + y, 'grid-' + type];\n// \t\tdocument.querySelector('.' + player + ' .grid-cell-' + x + '-' + y).setAttribute('class', classes.join(' '));\n// \t};\n// \t// Checks to see if a cell contains an undamaged ship\n// \t// Returns boolean\n// \tGrid.prototype.isUndamagedShip = function(x, y) {\n// \t\treturn this.cells[x][y] === CONST.TYPE_SHIP;\n// \t};\n// \t// Checks to see if the shot was missed. This is equivalent\n// \t// to checking if a cell contains a cannonball\n// \t// Returns boolean\n// \tGrid.prototype.isMiss = function(x, y) {\n// \t\treturn this.cells[x][y] === CONST.TYPE_MISS;\n// \t};\n// \t// Checks to see if a cell contains a damaged ship,\n// \t// either hit or sunk.\n// \t// Returns boolean\n// \tGrid.prototype.isDamagedShip = function(x, y) {\n// \t\treturn this.cells[x][y] === CONST.TYPE_HIT || this.cells[x][y] === CONST.TYPE_SUNK;\n// \t};\n// \t// Fleet object\n// \t// This object is used to keep track of a player's portfolio of ships\n// \t// Constructor\n// \tfunction Fleet(playerGrid, player) {\n// \t\tthis.numShips = CONST.AVAILABLE_SHIPS.length;\n// \t\tthis.playerGrid = playerGrid;\n// \t\tthis.player = player;\n// \t\tthis.fleetRoster = [];\n// \t\tthis.populate();\n// \t}\n// \t// Populates a fleet\n// \tFleet.prototype.populate = function() {\n// \t\tfor (var i = 0; i < this.numShips; i++) {\n// \t\t\t// loop over the ship types when numShips > Constants.AVAILABLE_SHIPS.length\n// \t\t\tvar j = i % CONST.AVAILABLE_SHIPS.length;\n// \t\t\tthis.fleetRoster.push(new Ship(CONST.AVAILABLE_SHIPS[j], this.playerGrid, this.player));\n// \t\t}\n// \t};\n// \t// Places the ship and returns whether or not the placement was successful\n// \t// Returns boolean\n// \tFleet.prototype.placeShip = function(x, y, direction, shipType) {\n// \t\tvar shipCoords;\n// \t\tfor (var i = 0; i < this.fleetRoster.length; i++) {\n// \t\t\tvar shipTypes = this.fleetRoster[i].type;\n// \t\t\tif (shipType === shipTypes &&\n// \t\t\t\tthis.fleetRoster[i].isLegal(x, y, direction)) {\n// \t\t\t\tthis.fleetRoster[i].create(x, y, direction, false);\n// \t\t\t\tshipCoords = this.fleetRoster[i].getAllShipCells();\n// \t\t\t\tfor (var j = 0; j < shipCoords.length; j++) {\n// \t\t\t\t\tthis.playerGrid.updateCell(shipCoords[j].x, shipCoords[j].y, 'ship', this.player);\n// \t\t\t\t}\n// \t\t\t\treturn true;\n// \t\t\t}\n// \t\t}\n// \t\treturn false;\n// \t};\n// \t// Places ships randomly on the board\n// \t// TODO: Avoid placing ships too close to each other\n// \tFleet.prototype.placeShipsRandomly = function() {\n// \t\tvar shipCoords;\n// \t\tfor (var i = 0; i < this.fleetRoster.length; i++) {\n// \t\t\tvar illegalPlacement = true;\n// \t\t\t// Prevents the random placement of already placed ships\n// \t\t\tif(this.player === CONST.HUMAN_PLAYER && Game.usedShips[i] === CONST.USED) {\n// \t\t\t\tcontinue;\n// \t\t\t}\n// \t\t\twhile (illegalPlacement) {\n// \t\t\t\tvar randomX = Math.floor(Game.size * Math.random());\n// \t\t\t\tvar randomY = Math.floor(Game.size * Math.random());\n// \t\t\t\tvar randomDirection = Math.floor(2*Math.random());\n// \t\t\t\tif (this.fleetRoster[i].isLegal(randomX, randomY, randomDirection)) {\n// \t\t\t\t\tthis.fleetRoster[i].create(randomX, randomY, randomDirection, false);\n// \t\t\t\t\tshipCoords = this.fleetRoster[i].getAllShipCells();\n// \t\t\t\t\tillegalPlacement = false;\n// \t\t\t\t} else {\n// \t\t\t\t\tcontinue;\n// \t\t\t\t}\n// \t\t\t}\n// \t\t\tif (this.player === CONST.HUMAN_PLAYER && Game.usedShips[i] !== CONST.USED) {\n// \t\t\t\tfor (var j = 0; j < shipCoords.length; j++) {\n// \t\t\t\t\tthis.playerGrid.updateCell(shipCoords[j].x, shipCoords[j].y, 'ship', this.player);\n// \t\t\t\t\tGame.usedShips[i] = CONST.USED;\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Finds a ship by location\n// \t// Returns the ship object located at (x, y)\n// \t// If no ship exists at (x, y), this returns null instead\n// \tFleet.prototype.findShipByCoords = function(x, y) {\n// \t\tfor (var i = 0; i < this.fleetRoster.length; i++) {\n// \t\t\tvar currentShip = this.fleetRoster[i];\n// \t\t\tif (currentShip.direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\t\tif (y === currentShip.yPosition &&\n// \t\t\t\t\tx >= currentShip.xPosition &&\n// \t\t\t\t\tx < currentShip.xPosition + currentShip.shipLength) {\n// \t\t\t\t\treturn currentShip;\n// \t\t\t\t} else {\n// \t\t\t\t\tcontinue;\n// \t\t\t\t}\n// \t\t\t} else {\n// \t\t\t\tif (x === currentShip.xPosition &&\n// \t\t\t\t\ty >= currentShip.yPosition &&\n// \t\t\t\t\ty < currentShip.yPosition + currentShip.shipLength) {\n// \t\t\t\t\treturn currentShip;\n// \t\t\t\t} else {\n// \t\t\t\t\tcontinue;\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t\treturn null;\n// \t};\n// \t// Finds a ship by its type\n// \t// Param shipType is a string\n// \t// Returns the ship object that is of type shipType\n// \t// If no ship exists, this returns null.\n// \tFleet.prototype.findShipByType = function(shipType) {\n// \t\tfor (var i = 0; i < this.fleetRoster.length; i++) {\n// \t\t\tif (this.fleetRoster[i].type === shipType) {\n// \t\t\t\treturn this.fleetRoster[i];\n// \t\t\t}\n// \t\t}\n// \t\treturn null;\n// \t};\n// \t// Checks to see if all ships have been sunk\n// \t// Returns boolean\n// \tFleet.prototype.allShipsSunk = function() {\n// \t\tfor (var i = 0; i < this.fleetRoster.length; i++) {\n// \t\t\t// If one or more ships are not sunk, then the sentence \"all ships are sunk\" is false.\n// \t\t\tif (this.fleetRoster[i].sunk === false) {\n// \t\t\t\treturn false;\n// \t\t\t}\n// \t\t}\n// \t\treturn true;\n// \t};\n// \t// Ship object\n// \t// Constructor\n// \tfunction Ship(type, playerGrid, player) {\n// \t\tthis.damage = 0;\n// \t\tthis.type = type;\n// \t\tthis.playerGrid = playerGrid;\n// \t\tthis.player = player;\n// \t\tswitch (this.type) {\n// \t\t\tcase CONST.AVAILABLE_SHIPS[0]:\n// \t\t\t\tthis.shipLength = 1;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[1]:\n// \t\t\t\tthis.shipLength = 1;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[2]:\n// \t\t\t\tthis.shipLength = 1;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[3]:\n// \t\t\t\tthis.shipLength = 1;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[4]:\n// \t\t\t\tthis.shipLength = 2;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[5]:\n// \t\t\t\tthis.shipLength = 2;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[6]:\n// \t\t\t\tthis.shipLength = 2;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[7]:\n// \t\t\t\tthis.shipLength = 3;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[8]:\n// \t\t\t\tthis.shipLength = 3;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[9]:\n// \t\t\t\tthis.shipLength = 4;\n// \t\t\t\tbreak;\n// \t\t}\n// \t\tthis.maxDamage = this.shipLength;\n// \t\tthis.sunk = false;\n// \t}\n// \t// Checks to see if the placement of a ship is legal\n// \t// Returns boolean\n// \tShip.prototype.isLegal = function(x, y, direction) {\n// \t\t// first, check if the ship is within the grid...\n// \t\tif (this.withinBounds(x, y, direction)) {\n// \t\t\t// ...then check to make sure it doesn't collide with another ship\n// \t\t\tfor (var i = 0; i < this.shipLength; i++) {\n// \t\t\t\tif (direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\t\t\tif (this.playerGrid.cells[x + i][y] === CONST.TYPE_SHIP ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x + i][y] === CONST.TYPE_MISS ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x + i][y] === CONST.TYPE_SUNK ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x + i][y] === CONST.TYPE_NOT_ALLOWED) {\n// \t\t\t\t\t\treturn false;\n// \t\t\t\t\t}\n// \t\t\t\t} else {\n// \t\t\t\t\tif (this.playerGrid.cells[x][y + i] === CONST.TYPE_SHIP ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x][y + i] === CONST.TYPE_MISS ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x][y + i] === CONST.TYPE_SUNK ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x][y + i] === CONST.TYPE_NOT_ALLOWED){\n// \t\t\t\t\t\treturn false;\n// \t\t\t\t\t}\n// \t\t\t\t}\n// \t\t\t}\n// \t\t\treturn true;\n// \t\t} else {\n// \t\t\treturn false;\n// \t\t}\n// \t};\n// \t// Checks to see if the ship is within bounds of the grid\n// \t// Returns boolean\n// \tShip.prototype.withinBounds = function(x, y, direction) {\n// \t\tif (direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\treturn x + this.shipLength <= Game.size;\n// \t\t} else {\n// \t\t\treturn y + this.shipLength <= Game.size;\n// \t\t}\n// \t};\n// \t// Increments the damage counter of a ship\n// \t// Returns Ship\n// \tShip.prototype.incrementDamage = function() {\n// \t\tthis.damage++;\n// \t\tif (this.isSunk()) {\n// \t\t\tthis.sinkShip(false); // Sinks the ship\n// \t\t}\n// \t};\n// \t// Checks to see if the ship is sunk\n// \t// Returns boolean\n// \tShip.prototype.isSunk = function() {\n// \t\treturn this.damage >= this.maxDamage;\n// \t};\n// \t// Sinks the ship\n// \tShip.prototype.sinkShip = function(virtual) {\n// \t\tthis.damage = this.maxDamage; // Force the damage to exceed max damage\n// \t\tthis.sunk = true;\n// \t\t// Make the CSS class sunk, but only if the ship is not virtual\n// \t\tif (!virtual) {\n// \t\t\tvar allCells = this.getAllShipCells();\n// \t\t\tfor (var i = 0; i < this.shipLength; i++) {\n// \t\t\t\tthis.playerGrid.updateCell(allCells[i].x, allCells[i].y, 'sunk', this.player);\n// \t\t\t}\n// \t\t}\n// \t};\n// \t/**\n// \t * Gets all the ship cells\n// \t *\n// \t * Returns an array with all (x, y) coordinates of the ship:\n// \t * e.g.\n// \t * [\n// \t *\t{'x':2, 'y':2},\n// \t *\t{'x':3, 'y':2},\n// \t *\t{'x':4, 'y':2}\n// \t * ]\n// \t */\n// \tShip.prototype.getAllShipCells = function() {\n// \t\tvar resultObject = [];\n// \t\tfor (var i = 0; i < this.shipLength; i++) {\n// \t\t\tif (this.direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\t\tresultObject[i] = {'x': this.xPosition + i, 'y': this.yPosition};\n// \t\t\t} else {\n// \t\t\t\tresultObject[i] = {'x': this.xPosition, 'y': this.yPosition + i};\n// \t\t\t}\n// \t\t}\n// \t\treturn resultObject;\n// \t};\n// \t// Initializes a ship with the given coordinates and direction (bearing).\n// \t// If the ship is declared \"virtual\", then the ship gets initialized with\n// \t// its coordinates but DOESN'T get placed on the grid.\n// \tShip.prototype.create = function(x, y, direction, virtual) {\n// \t\t// This function assumes that you've already checked that the placement is legal\n// \t\tthis.xPosition = x;\n// \t\tthis.yPosition = y;\n// \t\tthis.direction = direction;\n// \t\t// If the ship is virtual, don't add it to the grid.\n// \t\tif (!virtual) {\n// \t\t\tfor (var i = 0; i < this.shipLength; i++) {\n// \t\t\t\tif (this.direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\t\t\tthis.playerGrid.cells[x + i][y] = CONST.TYPE_SHIP;\n// \t\t\t\t\tif(this.checkPosition(x + i, y + 1)) {\n// \t\t\t\t\t\tthis.playerGrid.cells[x + i][y + 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t\t}\n// \t\t\t\t\tif(this.checkPosition(x + i, y - 1)) {\n// \t\t\t\t\t\tthis.playerGrid.cells[x + i][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t\t}\n// \t\t\t\t} else {\n// \t\t\t\t\tthis.playerGrid.cells[x][y + i] = CONST.TYPE_SHIP;\n// \t\t\t\t\tif(this.checkPosition(x + 1, y + i)) {\n// \t\t\t\t\t\tthis.playerGrid.cells[x + 1][y + i] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t\t}\n// \t\t\t\t\tif(this.checkPosition(x - 1, y + i)) {\n// \t\t\t\t\t\tthis.playerGrid.cells[x - 1][y + i] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t\t}\n// \t\t\t\t}\n// \t\t\t}\n// \t\t\tif (this.direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\t\tif(this.checkPosition(x - 1, y - 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x - 1][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x - 1, y)) {\n// \t\t\t\t\tthis.playerGrid.cells[x - 1][y] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x - 1, y + 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x - 1][y + 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x + this.shipLength, y - 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x + this.shipLength][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x + this.shipLength, y)) {\n// \t\t\t\t\tthis.playerGrid.cells[x + this.shipLength][y] = CONST.TYPE_NOT_ALLOWED; \n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x + this.shipLength, y + 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x + this.shipLength][y + 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t} else {\n// \t\t\t\tif(this.checkPosition(x + 1, y - 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x + 1][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x - 1, y - 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x - 1][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x, y-1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x + 1, y + this.shipLength)) {\n// \t\t\t\t\tthis.playerGrid.cells[x + 1][y + this.shipLength] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x - 1, y + this.shipLength)) {\n// \t\t\t\t\tthis.playerGrid.cells[x - 1][y + this.shipLength] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x, y + this.shipLength)) {\n// \t\t\t\t\tthis.playerGrid.cells[x][y + this.shipLength] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\t\t\n// \t};\n// \tShip.prototype.checkPosition = function(x, y) {\n// \t\tlet triger = false;\n// \t\tif (x < 10 && y < 10 && x >= 0 && y >= 0) {\n// \t\t\ttriger = true;\n// \t\t}\n// \t\treturn triger\n// \t};\n// \t// direction === 0 when the ship is facing north/south\n// \t// direction === 1 when the ship is facing east/west\n// \tShip.DIRECTION_VERTICAL = 0;\n// \tShip.DIRECTION_HORIZONTAL = 1;\n// \t// Tutorial Object\n// \t// Constructor\n// \tfunction Tutorial() {\n// \t\tthis.currentStep = 0;\n// \t\t// Check if 'showTutorial' is initialized, if it's uninitialized, set it to true.\n// \t\tthis.showTutorial = localStorage.getItem('showTutorial') !== 'false';\n// \t}\n// \t// Advances the tutorial to the next step\n// \tTutorial.prototype.nextStep = function() {\n// \t\tvar humanGrid = document.querySelector('.human-player');\n// \t\tvar computerGrid = document.querySelector('.computer-player');\n// \t\tswitch (this.currentStep) {\n// \t\t\tcase 0:\n// \t\t\t\tdocument.getElementById('roster-sidebar').setAttribute('class', 'highlight');\n// \t\t\t\tdocument.getElementById('step1').setAttribute('class', 'current-step');\n// \t\t\t\tthis.currentStep++;\n// \t\t\t\tbreak;\n// \t\t\tcase 1:\n// \t\t\t\tdocument.getElementById('roster-sidebar').removeAttribute('class');\n// \t\t\t\tdocument.getElementById('step1').removeAttribute('class');\n// \t\t\t\thumanGrid.setAttribute('class', humanGrid.getAttribute('class') + ' highlight');\n// \t\t\t\tdocument.getElementById('step2').setAttribute('class', 'current-step');\n// \t\t\t\tthis.currentStep++;\n// \t\t\t\tbreak;\n// \t\t\tcase 2:\n// \t\t\t\tdocument.getElementById('step2').removeAttribute('class');\n// \t\t\t\tvar humanClasses = humanGrid.getAttribute('class');\n// \t\t\t\thumanClasses = humanClasses.replace(' highlight', '');\n// \t\t\t\thumanGrid.setAttribute('class', humanClasses);\n// \t\t\t\tthis.currentStep++;\n// \t\t\t\tbreak;\n// \t\t\tcase 3:\n// \t\t\t\tcomputerGrid.setAttribute('class', computerGrid.getAttribute('class') + ' highlight');\n// \t\t\t\tdocument.getElementById('step3').setAttribute('class', 'current-step');\n// \t\t\t\tthis.currentStep++;\n// \t\t\t\tbreak;\n// \t\t\tcase 4:\n// \t\t\t\tvar computerClasses = computerGrid.getAttribute('class');\n// \t\t\t\tdocument.getElementById('step3').removeAttribute('class');\n// \t\t\t\tcomputerClasses = computerClasses.replace(' highlight', '');\n// \t\t\t\tcomputerGrid.setAttribute('class', computerClasses);\n// \t\t\t\tdocument.getElementById('step4').setAttribute('class', 'current-step');\n// \t\t\t\tthis.currentStep++;\n// \t\t\t\tbreak;\n// \t\t\tcase 5:\n// \t\t\t\tdocument.getElementById('step4').removeAttribute('class');\n// \t\t\t\tthis.currentStep = 6;\n// \t\t\t\tthis.showTutorial = false;\n// \t\t\t\tlocalStorage.setItem('showTutorial', false);\n// \t\t\t\tbreak;\n// \t\t\tdefault:\n// \t\t\t\tbreak;\n// \t\t}\n// \t};\n// \t// AI Object\n// \t// Optimal battleship-playing AI\n// \t// Constructor\n// \tfunction AI(gameObject) {\n// \t\tthis.gameObject = gameObject;\n// \t\tthis.virtualGrid = new Grid(Game.size);\n// \t\tthis.virtualFleet = new Fleet(this.virtualGrid, CONST.VIRTUAL_PLAYER);\n// \t\tthis.probGrid = []; // Probability Grid\n// \t\tthis.initProbs();\n// \t\tthis.updateProbs();\n// \t}\n// \tAI.PROB_WEIGHT = 5000; // arbitrarily big number\n// \t// how much weight to give to the opening book's high probability cells\n// \tAI.OPEN_HIGH_MIN = 20;\n// \tAI.OPEN_HIGH_MAX = 30;\n// \t// how much weight to give to the opening book's medium probability cells\n// \tAI.OPEN_MED_MIN = 15;\n// \tAI.OPEN_MED_MAX = 25;\n// \t// how much weight to give to the opening book's low probability cells\n// \tAI.OPEN_LOW_MIN = 10;\n// \tAI.OPEN_LOW_MAX = 20;\n// \t// Amount of randomness when selecting between cells of equal probability\n// \tAI.RANDOMNESS = 0.1;\n// \t// AI's opening book.\n// \t// This is the pattern of the first cells for the AI to target\n// \tAI.OPENINGS = [\n// \t\t{'x': 7, 'y': 3, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 6, 'y': 2, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 3, 'y': 7, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 2, 'y': 6, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 6, 'y': 6, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 3, 'y': 3, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 5, 'y': 5, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 4, 'y': 4, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t// {'x': 9, 'y': 5, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t// {'x': 0, 'y': 4, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t// {'x': 5, 'y': 9, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t// {'x': 4, 'y': 0, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t{'x': 0, 'y': 8, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t{'x': 1, 'y': 9, 'weight': getRandom(AI.OPEN_HIGH_MIN, AI.OPEN_HIGH_MAX)},\n// \t\t{'x': 8, 'y': 0, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t{'x': 9, 'y': 1, 'weight': getRandom(AI.OPEN_HIGH_MIN, AI.OPEN_HIGH_MAX)},\n// \t\t{'x': 9, 'y': 9, 'weight': getRandom(AI.OPEN_HIGH_MIN, AI.OPEN_HIGH_MAX)},\n// \t\t{'x': 0, 'y': 0, 'weight': getRandom(AI.OPEN_HIGH_MIN, AI.OPEN_HIGH_MAX)}\n// \t];\n// \t// Scouts the grid based on max probability, and shoots at the cell\n// \t// that has the highest probability of containing a ship\n// \tAI.prototype.shoot = function() {\n// \t\tvar maxProbability = 0;\n// \t\tvar maxProbCoords;\n// \t\tvar maxProbs = [];\n// \t\t// Add the AI's opening book to the probability grid\n// \t\tfor (var i = 0; i < AI.OPENINGS.length; i++) {\n// \t\t\tvar cell = AI.OPENINGS[i];\n// \t\t\tif (this.probGrid[cell.x][cell.y] !== 0) {\n// \t\t\t\tthis.probGrid[cell.x][cell.y] += cell.weight;\n// \t\t\t}\n// \t\t}\n// \t\tfor (var x = 0; x < Game.size; x++) {\n// \t\t\tfor (var y = 0; y < Game.size; y++) {\n// \t\t\t\tif (this.probGrid[x][y] > maxProbability) {\n// \t\t\t\t\tmaxProbability = this.probGrid[x][y];\n// \t\t\t\t\tmaxProbs = [{'x': x, 'y': y}]; // Replace the array\n// \t\t\t\t} else if (this.probGrid[x][y] === maxProbability) {\n// \t\t\t\t\tmaxProbs.push({'x': x, 'y': y});\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t\tmaxProbCoords = Math.random() < AI.RANDOMNESS ?\n// \t\tmaxProbs[Math.floor(Math.random() * maxProbs.length)] :\n// \t\tmaxProbs[0];\n// \t\tvar result = this.gameObject.shoot(maxProbCoords.x, maxProbCoords.y, CONST.HUMAN_PLAYER);\n// \t\t// If the game ends, the next lines need to be skipped.\n// \t\tif (Game.gameOver) {\n// \t\t\tGame.gameOver = false;\n// \t\t\treturn;\n// \t\t}\n// \t\tthis.virtualGrid.cells[maxProbCoords.x][maxProbCoords.y] = result;\n// \t\t// If you hit a ship, check to make sure if you've sunk it.\n// \t\tif (result === CONST.TYPE_HIT) {\n// \t\t\tvar humanShip = this.findHumanShip(maxProbCoords.x, maxProbCoords.y);\n// \t\t\tif (humanShip.isSunk()) {\n// \t\t\t\t// Remove any ships from the roster that have been sunk\n// \t\t\t\tvar shipTypes = [];\n// \t\t\t\tfor (var k = 0; k < this.virtualFleet.fleetRoster.length; k++) {\n// \t\t\t\t\tshipTypes.push(this.virtualFleet.fleetRoster[k].type);\n// \t\t\t\t}\n// \t\t\t\tvar index = shipTypes.indexOf(humanShip.type);\n// \t\t\t\tthis.virtualFleet.fleetRoster.splice(index, 1);\n// \t\t\t\t// Update the virtual grid with the sunk ship's cells\n// \t\t\t\tvar shipCells = humanShip.getAllShipCells();\n// \t\t\t\tfor (var _i = 0; _i < shipCells.length; _i++) {\n// \t\t\t\t\tthis.virtualGrid.cells[shipCells[_i].x][shipCells[_i].y] = CONST.TYPE_SUNK;\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t\t// Update probability grid after each shot\n// \t\tthis.updateProbs();\n// \t};\n// \t// Update the probability grid\n// \tAI.prototype.updateProbs = function() {\n// \t\tvar roster = this.virtualFleet.fleetRoster;\n// \t\tvar coords;\n// \t\tthis.resetProbs();\n// \t\t// Probabilities are not normalized to fit in the interval [0, 1]\n// \t\t// because we're only interested in the maximum value.\n// \t\t// This works by trying to fit each ship in each cell in every orientation\n// \t\t// For every cell, the more legal ways a ship can pass through it, the more\n// \t\t// likely the cell is to contain a ship.\n// \t\t// Cells that surround known 'hits' are given an arbitrarily large probability\n// \t\t// so that the AI tries to completely sink the ship before moving on.\n// \t\t// TODO: Think about a more efficient implementation\n// \t\tfor (var k = 0; k < roster.length; k++) {\n// \t\t\tfor (var x = 0; x < Game.size; x++) {\n// \t\t\t\tfor (var y = 0; y < Game.size; y++) {\n// \t\t\t\t\tif (roster[k].isLegal(x, y, Ship.DIRECTION_VERTICAL)) {\n// \t\t\t\t\t\troster[k].create(x, y, Ship.DIRECTION_VERTICAL, true);\n// \t\t\t\t\t\tcoords = roster[k].getAllShipCells();\n// \t\t\t\t\t\tif (this.passesThroughHitCell(coords)) {\n// \t\t\t\t\t\t\tfor (var i = 0; i < coords.length; i++) {\n// \t\t\t\t\t\t\t\tthis.probGrid[coords[i].x][coords[i].y] += AI.PROB_WEIGHT * this.numHitCellsCovered(coords);\n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t} else {\n// \t\t\t\t\t\t\tfor (var _i = 0; _i < coords.length; _i++) {\n// \t\t\t\t\t\t\t\tthis.probGrid[coords[_i].x][coords[_i].y]++;\n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n// \t\t\t\t\tif (roster[k].isLegal(x, y, Ship.DIRECTION_HORIZONTAL)) {\n// \t\t\t\t\t\troster[k].create(x, y, Ship.DIRECTION_HORIZONTAL, true);\n// \t\t\t\t\t\tcoords = roster[k].getAllShipCells();\n// \t\t\t\t\t\tif (this.passesThroughHitCell(coords)) {\n// \t\t\t\t\t\t\tfor (var j = 0; j < coords.length; j++) {\n// \t\t\t\t\t\t\t\tthis.probGrid[coords[j].x][coords[j].y] += AI.PROB_WEIGHT * this.numHitCellsCovered(coords);\n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t} else {\n// \t\t\t\t\t\t\tfor (var _j = 0; _j < coords.length; _j++) {\n// \t\t\t\t\t\t\t\tthis.probGrid[coords[_j].x][coords[_j].y]++;\n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n// \t\t\t\t\t// Set hit cells to probability zero so the AI doesn't\n// \t\t\t\t\t// target cells that are already hit\n// \t\t\t\t\tif (this.virtualGrid.cells[x][y] === CONST.TYPE_HIT) {\n// \t\t\t\t\t\tthis.probGrid[x][y] = 0;\n// \t\t\t\t\t}\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Initializes the probability grid for targeting\n// \tAI.prototype.initProbs = function() {\n// \t\tfor (var x = 0; x < Game.size; x++) {\n// \t\t\tvar row = [];\n// \t\t\tthis.probGrid[x] = row;\n// \t\t\tfor (var y = 0; y < Game.size; y++) {\n// \t\t\t\trow.push(0);\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Resets the probability grid to all 0.\n// \tAI.prototype.resetProbs = function() {\n// \t\tfor (var x = 0; x < Game.size; x++) {\n// \t\t\tfor (var y = 0; y < Game.size; y++) {\n// \t\t\t\tthis.probGrid[x][y] = 0;\n// \t\t\t}\n// \t\t}\n// \t};\n// \tAI.prototype.metagame = function() {\n// \t\t// Inputs:\n// \t\t// Proximity of hit cells to edge\n// \t\t// Proximity of hit cells to each other\n// \t\t// Edit the probability grid by multiplying each cell with a new probability weight (e.g. 0.4, or 3). Set this as a CONST and make 1-CONST the inverse for decreasing, or 2*CONST for increasing\n// \t};\n// \t// Finds a human ship by coordinates\n// \t// Returns Ship\n// \tAI.prototype.findHumanShip = function(x, y) {\n// \t\treturn this.gameObject.humanFleet.findShipByCoords(x, y);\n// \t};\n// \t// Checks whether or not a given ship's cells passes through\n// \t// any cell that is hit.\n// \t// Returns boolean\n// \tAI.prototype.passesThroughHitCell = function(shipCells) {\n// \t\tfor (var i = 0; i < shipCells.length; i++) {\n// \t\t\tif (this.virtualGrid.cells[shipCells[i].x][shipCells[i].y] === CONST.TYPE_HIT) {\n// \t\t\t\treturn true;\n// \t\t\t}\n// \t\t}\n// \t\treturn false;\n// \t};\n// \t// Gives the number of hit cells the ships passes through. The more\n// \t// cells this is, the more probable the ship exists in those coordinates\n// \t// Returns int\n// \tAI.prototype.numHitCellsCovered = function(shipCells) {\n// \t\tvar cells = 0;\n// \t\tfor (var i = 0; i < shipCells.length; i++) {\n// \t\t\tif (this.virtualGrid.cells[shipCells[i].x][shipCells[i].y] === CONST.TYPE_HIT) {\n// \t\t\t\tcells++;\n// \t\t\t}\n// \t\t}\n// \t\treturn cells;\n// \t};\n// \t// Global constant only initialized once\n// \tvar gameTutorial = new Tutorial();\n// \t// Start the game\n// \tvar mainGame = new Game(10);\n// \t// Browser compatability workaround for transition end event names.\n// \t// From modernizr: http://stackoverflow.com/a/9090128\n// \tfunction transitionEndEventName() {\n// \t\tvar i,\n// \t\t\tundefined,\n// \t\t\tel = document.createElement('div'),\n// \t\t\ttransitions = {\n// \t\t\t\t'transition':'transitionend',\n// \t\t\t\t'OTransition':'otransitionend',  // oTransitionEnd in very old Opera\n// \t\t\t\t'MozTransition':'transitionend',\n// \t\t\t\t'WebkitTransition':'webkitTransitionEnd'\n// \t\t\t};\n// \t\tfor (i in transitions) {\n// \t\t\tif (transitions.hasOwnProperty(i) && el.style[i] !== undefined) {\n// \t\t\t\treturn transitions[i];\n// \t\t\t}\n// \t\t}\n// \t}\n// \t// Returns a random number between min (inclusive) and max (exclusive)\n// \tfunction getRandom(min, max) {\n// \t\treturn Math.random() * (max - min) + min;\n// \t}\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass BattlesComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      battles: []\n    };\n  }\n\n  componentDidMount() {\n    Service.getAllBattles().then(res => {\n      this.setState({\n        battles: res.data.content\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Battles List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"restart-sidebar\",\n            className: \"hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Try Again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1151,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"restart-game\",\n              children: \"Restart Game\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1152,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1150,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"roster-sidebar\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Place Your Ships\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1154,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"fleet-roster\",\n              id: \"fleet-roster\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                id: \"1.1\",\n                children: \"1 \\u0565\\u0580\\u056F\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1156,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                id: \"1.2\",\n                children: \"1 \\u0565\\u0580\\u056F\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1157,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                id: \"1.3\",\n                children: \"1 \\u0565\\u0580\\u056F\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1158,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                id: \"1.4\",\n                children: \"1 \\u0565\\u0580\\u056F\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1159,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                id: \"2.1\",\n                children: \"2 \\u0565\\u0580\\u056F\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1160,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                id: \"2.2\",\n                children: \"2 \\u0565\\u0580\\u056F\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1161,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                id: \"2.3\",\n                children: \"2 \\u0565\\u0580\\u056F\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1162,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                id: \"3.1\",\n                children: \"3 \\u0565\\u0580\\u056F\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1163,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                id: \"3.2\",\n                children: \"3 \\u0565\\u0580\\u056F\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1164,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                id: \"4.1\",\n                children: \"4 \\u0565\\u0580\\u056F\\u0561\\u0580\\u0578\\u0582\\u0569\\u0575\\u0561\\u0576\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1165,\n                columnNumber: 5\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1155,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"rotate-button\",\n              \"data-direction\": \"0\",\n              children: \"Rotate Ship\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1167,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"start-game\",\n              className: \"hidden\",\n              children: \"Start Game\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1168,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"place-randomly\",\n              className: \"hidden\",\n              children: \"Place Randomly and Start\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1169,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1153,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Your Fleet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1171,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid human-player\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"no-js\",\n                children: \"Please enable JavaScript to play this game\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1172,\n                columnNumber: 39\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1172,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1170,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Enemy Fleet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1174,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid computer-player\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"no-js\",\n                children: \"Please enable JavaScript to play this game\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1175,\n                columnNumber: 42\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1175,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1173,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1149,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1148,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"prefetch\",\n        id: \"prefetch1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1181,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"prefetch\",\n        id: \"prefetch2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1182,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"prefetch\",\n        id: \"prefetch3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1183,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(Stylesheet, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1185,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1146,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(BattlesComponent);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/anushik/Desktop/dip/seebattle/src/components/GameComponent.jsx"],"names":["React","Component","Service","Link","withRouter","Stylesheet","BattlesComponent","constructor","props","state","battles","componentDidMount","getAllBattles","then","res","setState","data","content","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAOC,UAAP,MAAuB,cAAvB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;AAEA,MAAMC,gBAAN,SAA+BL,SAA/B,CAAyC;AACrCM,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,OAAO,EAAE;AADF,KAAX;AAGH;;AACDC,EAAAA,iBAAiB,GAAE;AACfT,IAAAA,OAAO,CAACU,aAAR,GAAwBC,IAAxB,CAA8BC,GAAD,IAAS;AAClC,WAAKC,QAAL,CAAc;AAACL,QAAAA,OAAO,EAAEI,GAAG,CAACE,IAAJ,CAASC;AAAnB,OAAd;AACH,KAFD;AAGH;;AACDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEA;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,+BACZ;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,kCACE;AAAK,YAAA,EAAE,EAAC,iBAAR;AAA0B,YAAA,SAAS,EAAC,QAApC;AAAA,oCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC;AAAQ,cAAA,EAAE,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAIQ;AAAK,YAAA,EAAE,EAAC,gBAAR;AAAA,oCACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADK,eAEL;AAAI,cAAA,SAAS,EAAC,cAAd;AAA6B,cAAA,EAAE,EAAC,cAAhC;AAAA,sCACC;AAAI,gBAAA,EAAE,EAAC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAI,gBAAA,EAAE,EAAC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD,eAGC;AAAI,gBAAA,EAAE,EAAC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHD,eAIC;AAAI,gBAAA,EAAE,EAAC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJD,eAKC;AAAI,gBAAA,EAAE,EAAC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALD,eAMC;AAAI,gBAAA,EAAE,EAAC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAND,eAOC;AAAI,gBAAA,EAAE,EAAC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPD,eAQC;AAAI,gBAAA,EAAE,EAAC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBARD,eASC;AAAI,gBAAA,EAAE,EAAC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBATD,eAUC;AAAI,gBAAA,EAAE,EAAC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAVD;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFK,eAcL;AAAQ,cAAA,EAAE,EAAC,eAAX;AAA2B,gCAAe,GAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAdK,eAeL;AAAQ,cAAA,EAAE,EAAC,YAAX;AAAwB,cAAA,SAAS,EAAC,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAfK,eAgBL;AAAQ,cAAA,EAAE,EAAC,gBAAX;AAA4B,cAAA,SAAS,EAAC,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAhBK;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJR,eAqBQ;AAAK,YAAA,SAAS,EAAC,gBAAf;AAAA,oCACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADK,eAEL;AAAK,cAAA,SAAS,EAAC,mBAAf;AAAA,qCAAmC;AAAM,gBAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAnC;AAAA;AAAA;AAAA;AAAA,oBAFK;AAAA;AAAA;AAAA;AAAA;AAAA,kBArBR,eAwBQ;AAAK,YAAA,SAAS,EAAC,gBAAf;AAAA,oCACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADK,eAEL;AAAK,cAAA,SAAS,EAAC,sBAAf;AAAA,qCAAsC;AAAM,gBAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAtC;AAAA;AAAA;AAAA;AAAA,oBAFK;AAAA;AAAA;AAAA;AAAA;AAAA,kBAxBR;AAAA;AAAA;AAAA;AAAA;AAAA;AADY;AAAA;AAAA;AAAA;AAAA,cAFA,eAmCZ;AAAM,QAAA,SAAS,EAAC,UAAhB;AAA2B,QAAA,EAAE,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA,cAnCY,eAoCZ;AAAM,QAAA,SAAS,EAAC,UAAhB;AAA2B,QAAA,EAAE,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA,cApCY,eAqCZ;AAAM,QAAA,SAAS,EAAC,UAAhB;AAA2B,QAAA,EAAE,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA,cArCY,eAuCZ,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,cAvCY;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA2CH;;AAxDoC;;AA2DzC,oBAAed,UAAU,CAACE,gBAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport Service from '../services/Service';\nimport { Link, withRouter } from \"react-router-dom\";\nimport Stylesheet from './Stylesheet';\n\n// var CONST = {};\n// \tCONST.AVAILABLE_SHIPS = ['1.1', '1.2', '1.3', '1.4', '2.1', '2.2', '2.3', '3.1', '3.2', '4.1'];\n// \t// You are player 0 and the computer is player 1\n// \t// The virtual player is used for generating temporary ships\n// \t// for calculating the probability heatmap\n// \tCONST.HUMAN_PLAYER = 0;\n// \tCONST.COMPUTER_PLAYER = 1;\n// \tCONST.VIRTUAL_PLAYER = 2;\n// \t// Possible values for the parameter `type` (string)\n// \tCONST.CSS_TYPE_EMPTY = 'empty';\n// \tCONST.CSS_TYPE_SHIP = 'ship';\n// \tCONST.CSS_TYPE_MISS = 'miss';\n// \tCONST.CSS_TYPE_HIT = 'hit';\n// \tCONST.CSS_TYPE_SUNK = 'sunk';\n// \t// Grid code:\n// \tCONST.TYPE_EMPTY = 0; // 0 = water (empty)\n// \tCONST.TYPE_SHIP = 1; // 1 = undamaged ship\n// \tCONST.TYPE_MISS = 2; // 2 = water with a cannonball in it (missed shot)\n// \tCONST.TYPE_HIT = 3; // 3 = damaged ship (hit shot)\n// \tCONST.TYPE_SUNK = 4; // 4 = sunk ship\n// \tCONST.TYPE_NOT_ALLOWED = 5;\n\n// \tGame.usedShips = [CONST.UNUSED, CONST.UNUSED, CONST.UNUSED, CONST.UNUSED, CONST.UNUSED];\n// \tCONST.USED = 1;\n// \tCONST.UNUSED = 0;\n\n//     function Game(size) {\n// \t\tGame.size = size;\n// \t\tthis.shotsTaken = 0;\n// \t\tthis.createGrid();\n// \t\tthis.init();\n// \t}\n// \tGame.size = 10; // Default grid size is 10x10\n// \tGame.gameOver = false;\n// \t// Checks if the game is won, and if it is, re-initializes the game\n// \tGame.prototype.checkIfWon = function() {\n// \t\tif (this.computerFleet.allShipsSunk()) {\n// \t\t\talert('Congratulations, you win!');\n// \t\t\tGame.gameOver = true;\n// \t\t\t// Game.stats.wonGame();\n// \t\t\t// Game.stats.syncStats();\n// \t\t\t// Game.stats.updateStatsSidebar();\n// \t\t\tthis.showRestartSidebar();\n// \t\t} else if (this.humanFleet.allShipsSunk()) {\n// \t\t\talert('Yarr! The computer sank all your ships. Try again.');\n// \t\t\tGame.gameOver = true;\n// \t\t\t// Game.stats.lostGame();\n// \t\t\t// Game.stats.syncStats();\n// \t\t\t// Game.stats.updateStatsSidebar();\n// \t\t\tthis.showRestartSidebar();\n// \t\t}\n// \t};\n// \t// Shoots at the target player on the grid.\n// \t// Returns {int} Constants.TYPE: What the shot uncovered\n// \tGame.prototype.shoot = function(x, y, targetPlayer) {\n// \t\tlet targetGrid;\n// \t\tlet targetFleet;\n// \t\tif (targetPlayer === CONST.HUMAN_PLAYER) {\n// \t\t\ttargetGrid = this.humanGrid;\n// \t\t\ttargetFleet = this.humanFleet;\n// \t\t} else if (targetPlayer === CONST.COMPUTER_PLAYER) {\n// \t\t\ttargetGrid = this.computerGrid;\n// \t\t\ttargetFleet = this.computerFleet;\n// \t\t} else {\n// \t\t\t// Should never be called\n// \t\t\tconsole.log(\"There was an error trying to find the correct player to target\");\n// \t\t}\n\t\n// \t\tif (targetGrid.isDamagedShip(x, y)) {\n// \t\t\treturn null;\n// \t\t} else if (targetGrid.isMiss(x, y)) {\n// \t\t\treturn null;\n// \t\t} else if (targetGrid.isUndamagedShip(x, y)) {\n// \t\t\t// update the board/grid\n// \t\t\ttargetGrid.updateCell(x, y, 'hit', targetPlayer);\n// \t\t\t// IMPORTANT: This function needs to be called _after_ updating the cell to a 'hit',\n// \t\t\t// because it overrides the CSS class to 'sunk' if we find that the ship was sunk\n// \t\t\ttargetFleet.findShipByCoords(x, y).incrementDamage(); // increase the damage\n// \t\t\tthis.checkIfWon();\n// \t\t\treturn CONST.TYPE_HIT;\n// \t\t} else {\n// \t\t\ttargetGrid.updateCell(x, y, 'miss', targetPlayer);\n// \t\t\tthis.checkIfWon();\n// \t\t\treturn CONST.TYPE_MISS;\n// \t\t}\n// \t};\n// \t// Creates click event listeners on each one of the 100 grid cells\n// \tGame.prototype.shootListener = function(e) {\n// \t\tvar self = e.target.self;\n// \t\t// Extract coordinates from event listener\n// \t\tvar x = parseInt(e.target.getAttribute('data-x'), 10);\n// \t\tvar y = parseInt(e.target.getAttribute('data-y'), 10);\n// \t\tvar result = null;\n// \t\tif (self.readyToPlay) {\n// \t\t\tresult = self.shoot(x, y, CONST.COMPUTER_PLAYER);\n\t\n// \t\t\t// Remove the tutorial arrow\n// \t\t\tif (gameTutorial.showTutorial) {\n// \t\t\t\tgameTutorial.nextStep();\n// \t\t\t}\n// \t\t}\n\t\n// \t\tif (result !== null && !Game.gameOver) {\n// \t\t\t//Game.stats.incrementShots();\n// \t\t\t// if (result === CONST.TYPE_HIT) {\n// \t\t\t// \tGame.stats.hitShot();\n// \t\t\t// }\n// \t\t\t// The AI shoots iff the player clicks on a cell that he/she hasn't\n// \t\t\t// already clicked on yet\n// \t\t\tself.robot.shoot();\n// \t\t} else {\n// \t\t\tGame.gameOver = false;\n// \t\t}\n// \t};\n// \t// Creates click event listeners on each of the ship names in the roster\n// \tGame.prototype.rosterListener = function(e) {\n// \t\tvar self = e.target.self;\n// \t\t// Remove all classes of 'placing' from the fleet roster first\n// \t\tvar roster = document.querySelectorAll('.fleet-roster li');\n// \t\tfor (var i = 0; i < roster.length; i++) {\n// \t\t\tvar classes = roster[i].getAttribute('class') || '';\n// \t\t\tclasses = classes.replace('placing', '');\n// \t\t\troster[i].setAttribute('class', classes);\n// \t\t}\n\t\n// \t\t// Move the highlight to the next step\n// \t\tif (gameTutorial.currentStep === 1) {\n// \t\t\tgameTutorial.nextStep();\n// \t\t}\n\t\t\n// \t\t// Set the class of the target ship to 'placing'\n// \t\tGame.placeShipType = e.target.getAttribute('id');\n// \t\tdocument.getElementById(Game.placeShipType).setAttribute('class', 'placing');\n// \t\tGame.placeShipDirection = parseInt(document.getElementById('rotate-button').getAttribute('data-direction'), 10);\n// \t\tself.placingOnGrid = true;\n// \t};\n// \t// Creates click event listeners on the human player's grid to handle\n// \t// ship placement after the user has selected a ship name\n// \tGame.prototype.placementListener = function(e) {\n// \t\tvar self = e.target.self;\n// \t\tif (self.placingOnGrid) {\n// \t\t\t// Extract coordinates from event listener\n// \t\t\tvar x = parseInt(e.target.getAttribute('data-x'), 10);\n// \t\t\tvar y = parseInt(e.target.getAttribute('data-y'), 10);\n\t\t\t\n// \t\t\t// Don't screw up the direction if the user tries to place again.\n// \t\t\tvar successful = self.humanFleet.placeShip(x, y, Game.placeShipDirection, Game.placeShipType);\n// \t\t\tif (successful) {\n// \t\t\t\t// Done placing this ship\n// \t\t\t\tself.endPlacing(Game.placeShipType);\n\t\n// \t\t\t\t// Remove the helper arrow\n// \t\t\t\tif (gameTutorial.currentStep === 2) {\n// \t\t\t\t\tgameTutorial.nextStep();\n// \t\t\t\t}\n\t\n// \t\t\t\tself.placingOnGrid = false;\n// \t\t\t\tif (self.areAllShipsPlaced()) {\n// \t\t\t\t\tvar el = document.getElementById('rotate-button');\n// \t\t\t\t\tel.addEventListener(transitionEndEventName(),(function(){\n// \t\t\t\t\t\tel.setAttribute('class', 'hidden');\n// \t\t\t\t\t\tif (gameTutorial.showTutorial) {\n// \t\t\t\t\t\t\tdocument.getElementById('start-game').setAttribute('class', 'highlight');\n// \t\t\t\t\t\t} else {\n// \t\t\t\t\t\t\tdocument.getElementById('start-game').removeAttribute('class');\t\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}),false);\n// \t\t\t\t\tel.setAttribute('class', 'invisible');\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Creates mouseover event listeners that handles mouseover on the\n// \t// human player's grid to draw a phantom ship implying that the user\n// \t// is allowed to place a ship there\n// \tGame.prototype.placementMouseover = function(e) {\n// \t\tvar self = e.target.self;\n// \t\tif (self.placingOnGrid) {\n// \t\t\tvar x = parseInt(e.target.getAttribute('data-x'), 10);\n// \t\t\tvar y = parseInt(e.target.getAttribute('data-y'), 10);\n// \t\t\tvar classes;\n// \t\t\tvar fleetRoster = self.humanFleet.fleetRoster;\n\t\n// \t\t\tfor (var i = 0; i < fleetRoster.length; i++) {\n// \t\t\t\tvar shipType = fleetRoster[i].type;\n\t\n// \t\t\t\tif (Game.placeShipType === shipType &&\n// \t\t\t\t\tfleetRoster[i].isLegal(x, y, Game.placeShipDirection)) {\n// \t\t\t\t\t// Virtual ship\n// \t\t\t\t\tfleetRoster[i].create(x, y, Game.placeShipDirection, true);\n// \t\t\t\t\tGame.placeShipCoords = fleetRoster[i].getAllShipCells();\n\t\n// \t\t\t\t\tfor (var j = 0; j < Game.placeShipCoords.length; j++) {\n// \t\t\t\t\t\tvar el = document.querySelector('.grid-cell-' + Game.placeShipCoords[j].x + '-' + Game.placeShipCoords[j].y);\n// \t\t\t\t\t\tclasses = el.getAttribute('class');\n// \t\t\t\t\t\t// Check if the substring ' grid-ship' already exists to avoid adding it twice\n// \t\t\t\t\t\tif (classes.indexOf(' grid-ship') < 0) {\n// \t\t\t\t\t\t\tclasses += ' grid-ship';\n// \t\t\t\t\t\t\tel.setAttribute('class', classes);\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Creates mouseout event listeners that un-draws the phantom ship\n// \t// on the human player's grid as the user hovers over a different cell\n// \tGame.prototype.placementMouseout = function(e) {\n// \t\tvar self = e.target.self;\n// \t\tif (self.placingOnGrid) {\n// \t\t\tfor (var j = 0; j < Game.placeShipCoords.length; j++) {\n// \t\t\t\tvar el = document.querySelector('.grid-cell-' + Game.placeShipCoords[j].x + '-' + Game.placeShipCoords[j].y);\n// \t\t\t\tvar classes = el.getAttribute('class');\n// \t\t\t\t// Check if the substring ' grid-ship' already exists to avoid adding it twice\n// \t\t\t\tif (classes.indexOf(' grid-ship') > -1) {\n// \t\t\t\t\tclasses = classes.replace(' grid-ship', '');\n// \t\t\t\t\tel.setAttribute('class', classes);\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Click handler for the Rotate Ship button\n// \tGame.prototype.toggleRotation = function(e) {\n// \t\t// Toggle rotation direction\n// \t\tvar direction = parseInt(e.target.getAttribute('data-direction'), 10);\n// \t\tif (direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\te.target.setAttribute('data-direction', '1');\n// \t\t\tGame.placeShipDirection = Ship.DIRECTION_HORIZONTAL;\n// \t\t} else if (direction === Ship.DIRECTION_HORIZONTAL) {\n// \t\t\te.target.setAttribute('data-direction', '0');\n// \t\t\tGame.placeShipDirection = Ship.DIRECTION_VERTICAL;\n// \t\t}\n// \t};\n// \t// Click handler for the Start Game button\n// \tGame.prototype.startGame = function(e) {\n// \t\tvar self = e.target.self;\n// \t\tvar el = document.getElementById('roster-sidebar');\n// \t\tvar fn = function() {el.setAttribute('class', 'hidden');};\n// \t\tel.addEventListener(transitionEndEventName(),fn,false);\n// \t\tel.setAttribute('class', 'invisible');\n// \t\tself.readyToPlay = true;\n\t\n// \t\t// Advanced the tutorial step\n// \t\tif (gameTutorial.currentStep === 3) {\n// \t\t\tgameTutorial.nextStep();\n// \t\t}\n// \t\tel.removeEventListener(transitionEndEventName(),fn,false);\n// \t};\n// \t// Click handler for Restart Game button\n// \tGame.prototype.restartGame = function(e) {\n// \t\te.target.removeEventListener(e.type, arguments.callee);\n// \t\tvar self = e.target.self;\n// \t\tdocument.getElementById('restart-sidebar').setAttribute('class', 'hidden');\n// \t\tself.resetFogOfWar();\n// \t\tself.init();\n// \t};\n// \t// Debugging function used to place all ships and just start\n// \tGame.prototype.placeRandomly = function(e){\n// \t\te.target.removeEventListener(e.type, arguments.callee);\n// \t\te.target.self.humanFleet.placeShipsRandomly();\n// \t\te.target.self.readyToPlay = true;\n// \t\tdocument.getElementById('roster-sidebar').setAttribute('class', 'hidden');\n// \t\tthis.setAttribute('class', 'hidden');\n// \t};\n// \t// Ends placing the current ship\n// \tGame.prototype.endPlacing = function(shipType) {\n// \t\tdocument.getElementById(shipType).setAttribute('class', 'placed');\n\t\t\n// \t\t// Mark the ship as 'used'\n// \t\tGame.usedShips[CONST.AVAILABLE_SHIPS.indexOf(shipType)] = CONST.USED;\n\t\n// \t\t// Wipe out the variable when you're done with it\n// \t\tGame.placeShipDirection = null;\n// \t\tGame.placeShipType = '';\n// \t\tGame.placeShipCoords = [];\n// \t};\n// \t// Checks whether or not all ships are done placing\n// \t// Returns boolean\n// \tGame.prototype.areAllShipsPlaced = function() {\n// \t\tvar playerRoster = document.querySelectorAll('.fleet-roster li');\n// \t\tfor (var i = 0; i < playerRoster.length; i++) {\n// \t\t\tif (playerRoster[i].getAttribute('class') === 'placed') {\n// \t\t\t\tcontinue;\n// \t\t\t} else {\n// \t\t\t\treturn false;\n// \t\t\t}\n// \t\t}\n// \t\t// Reset temporary variables\n// \t\tGame.placeShipDirection = 0;\n// \t\tGame.placeShipType = '';\n// \t\tGame.placeShipCoords = [];\n// \t\treturn true;\n// \t};\n// \t// Resets the fog of war\n// \tGame.prototype.resetFogOfWar = function() {\n// \t\tfor (var i = 0; i < Game.size; i++) {\n// \t\t\tfor (var j = 0; j < Game.size; j++) {\n// \t\t\t\tthis.humanGrid.updateCell(i, j, 'empty', CONST.HUMAN_PLAYER);\n// \t\t\t\tthis.computerGrid.updateCell(i, j, 'empty', CONST.COMPUTER_PLAYER);\n// \t\t\t}\n// \t\t}\n// \t\t// Reset all values to indicate the ships are ready to be placed again\n// \t\tGame.usedShips = Game.usedShips.map(function(){return CONST.UNUSED;});\n// \t};\n// \t// Resets CSS styling of the sidebar\n// \tGame.prototype.resetRosterSidebar = function() {\n// \t\tconsole.log(document.getElementById('fleet-roster'));\n// \t\tvar els = document.querySelector('.fleet-roster').querySelectorAll('li');\n// \t\tfor (var i = 0; i < els.length; i++) {\n// \t\t\tels[i].removeAttribute('class');\n// \t\t}\n\t\n// \t\tif (gameTutorial.showTutorial) {\n// \t\t\tgameTutorial.nextStep();\n// \t\t} else {\n// \t\t\tdocument.getElementById('roster-sidebar').removeAttribute('class');\n// \t\t}\n// \t\tdocument.getElementById('rotate-button').removeAttribute('class');\n// \t\tdocument.getElementById('start-game').setAttribute('class', 'hidden');\n// \t\t// if (DEBUG_MODE) {\n// \t\t// \tdocument.getElementById('place-randomly').removeAttribute('class');\n// \t\t// }\n// \t};\n// \tGame.prototype.showRestartSidebar = function() {\n// \t\tvar sidebar = document.getElementById('restart-sidebar');\n// \t\tsidebar.setAttribute('class', 'highlight');\n\t\n// \t\t// Deregister listeners\n// \t\tvar computerCells = document.querySelector('.computer-player').childNodes;\n// \t\tfor (var j = 0; j < computerCells.length; j++) {\n// \t\t\tcomputerCells[j].removeEventListener('click', this.shootListener, false);\n// \t\t}\n// \t\tvar playerRoster = document.querySelector('.fleet-roster').querySelectorAll('li');\n// \t\tfor (var i = 0; i < playerRoster.length; i++) {\n// \t\t\tplayerRoster[i].removeEventListener('click', this.rosterListener, false);\n// \t\t}\n\t\n// \t\tvar restartButton = document.getElementById('restart-game');\n// \t\trestartButton.addEventListener('click', this.restartGame, false);\n// \t\trestartButton.self = this;\n// \t};\n// \t// Generates the HTML divs for the grid for both players\n// \tGame.prototype.createGrid = function() {\n// \t\tvar gridDiv = document.querySelectorAll('.grid');\n// \t\tfor (var grid = 0; grid < gridDiv.length; grid++) {\n// \t\t\tgridDiv[grid].removeChild(gridDiv[grid].querySelector('.no-js')); // Removes the no-js warning\n// \t\t\tfor (var i = 0; i < Game.size; i++) {\n// \t\t\t\tfor (var j = 0; j < Game.size; j++) {\n// \t\t\t\t\tvar el = document.createElement('div');\n// \t\t\t\t\tel.setAttribute('data-x', i);\n// \t\t\t\t\tel.setAttribute('data-y', j);\n// \t\t\t\t\tel.setAttribute('class', 'grid-cell grid-cell-' + i + '-' + j);\n// \t\t\t\t\tgridDiv[grid].appendChild(el);\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Initializes the Game. Also resets the game if previously initialized\n// \tGame.prototype.init = function() {\n// \t\tthis.humanGrid = new Grid(Game.size);\n// \t\tthis.computerGrid = new Grid(Game.size);\n// \t\tthis.humanFleet = new Fleet(this.humanGrid, CONST.HUMAN_PLAYER);\n// \t\tthis.computerFleet = new Fleet(this.computerGrid, CONST.COMPUTER_PLAYER);\n\t\n// \t\tthis.robot = new AI(this);\n// \t\t//Game.stats = new Stats();\n// \t\t//Game.stats.updateStatsSidebar();\n\t\n// \t\t// Reset game variables\n// \t\tthis.shotsTaken = 0;\n// \t\tthis.readyToPlay = false;\n// \t\tthis.placingOnGrid = false;\n// \t\tGame.placeShipDirection = 0;\n// \t\tGame.placeShipType = '';\n// \t\tGame.placeShipCoords = [];\n//         this.resetRosterSidebar();\n\t\n// \t\t// Add a click listener for the Grid.shoot() method for all cells\n// \t\t// Only add this listener to the computer's grid\n// \t\tvar computerCells = document.querySelector('.computer-player').childNodes;\n// \t\tfor (var j = 0; j < computerCells.length; j++) {\n// \t\t\tcomputerCells[j].self = this;\n// \t\t\tcomputerCells[j].addEventListener('click', this.shootListener, false);\n// \t\t}\n\t\n// \t\t// Add a click listener to the roster\t\n// \t\tvar playerRoster = document.querySelector('.fleet-roster').querySelectorAll('li');\n// \t\tfor (var i = 0; i < playerRoster.length; i++) {\n// \t\t\tplayerRoster[i].self = this;\n// \t\t\tplayerRoster[i].addEventListener('click', this.rosterListener, false);\n// \t\t}\n\t\n// \t\t// Add a click listener to the human player's grid while placing\n// \t\tvar humanCells = document.querySelector('.human-player').childNodes;\n// \t\tfor (var k = 0; k < humanCells.length; k++) {\n// \t\t\thumanCells[k].self = this;\n// \t\t\thumanCells[k].addEventListener('click', this.placementListener, false);\n// \t\t\thumanCells[k].addEventListener('mouseover', this.placementMouseover, false);\n// \t\t\thumanCells[k].addEventListener('mouseout', this.placementMouseout, false);\n// \t\t}\n\t\n// \t\tvar rotateButton = document.getElementById('rotate-button');\n// \t\trotateButton.addEventListener('click', this.toggleRotation, false);\n// \t\tvar startButton = document.getElementById('start-game');\n// \t\tstartButton.self = this;\n// \t\tstartButton.addEventListener('click', this.startGame, false);\n// \t\t// var resetButton = document.getElementById('reset-stats');\n// \t\t// resetButton.addEventListener('click', Game.stats.resetStats, false);\n// \t\tvar randomButton = document.getElementById('place-randomly');\n// \t\trandomButton.self = this;\n// \t\trandomButton.addEventListener('click', this.placeRandomly, false);\n// \t\tthis.computerFleet.placeShipsRandomly();\n// \t};\n\t\n// \t// Grid object\n// \t// Constructor\n// \tfunction Grid(size) {\n// \t\tthis.size = size;\n// \t\tthis.cells = [];\n// \t\tthis.init();\n// \t}\n\t\n// \t// Initialize and populate the grid\n// \tGrid.prototype.init = function() {\n// \t\tfor (var x = 0; x < this.size; x++) {\n// \t\t\tvar row = [];\n// \t\t\tthis.cells[x] = row;\n// \t\t\tfor (var y = 0; y < this.size; y++) {\n// \t\t\t\trow.push(CONST.TYPE_EMPTY);\n// \t\t\t}\n// \t\t}\n// \t};\n\t\n// \t// Updates the cell's CSS class based on the type passed in\n// \tGrid.prototype.updateCell = function(x, y, type, targetPlayer) {\n// \t\tvar player;\n// \t\tif (targetPlayer === CONST.HUMAN_PLAYER) {\n// \t\t\tplayer = 'human-player';\n// \t\t} else if (targetPlayer === CONST.COMPUTER_PLAYER) {\n// \t\t\tplayer = 'computer-player';\n// \t\t} else {\n// \t\t\t// Should never be called\n// \t\t\tconsole.log(\"There was an error trying to find the correct player's grid\");\n// \t\t}\n\t\n// \t\tswitch (type) {\n// \t\t\tcase CONST.CSS_TYPE_EMPTY:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_EMPTY;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.CSS_TYPE_SHIP:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_SHIP;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.CSS_TYPE_MISS:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_MISS;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.CSS_TYPE_HIT:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_HIT;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.CSS_TYPE_SUNK:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_SUNK;\n// \t\t\t\tbreak;\n// \t\t\tdefault:\n// \t\t\t\tthis.cells[x][y] = CONST.TYPE_EMPTY;\n// \t\t\t\tbreak;\n// \t\t}\n// \t\tvar classes = ['grid-cell', 'grid-cell-' + x + '-' + y, 'grid-' + type];\n// \t\tdocument.querySelector('.' + player + ' .grid-cell-' + x + '-' + y).setAttribute('class', classes.join(' '));\n// \t};\n// \t// Checks to see if a cell contains an undamaged ship\n// \t// Returns boolean\n// \tGrid.prototype.isUndamagedShip = function(x, y) {\n// \t\treturn this.cells[x][y] === CONST.TYPE_SHIP;\n// \t};\n// \t// Checks to see if the shot was missed. This is equivalent\n// \t// to checking if a cell contains a cannonball\n// \t// Returns boolean\n// \tGrid.prototype.isMiss = function(x, y) {\n// \t\treturn this.cells[x][y] === CONST.TYPE_MISS;\n// \t};\n// \t// Checks to see if a cell contains a damaged ship,\n// \t// either hit or sunk.\n// \t// Returns boolean\n// \tGrid.prototype.isDamagedShip = function(x, y) {\n// \t\treturn this.cells[x][y] === CONST.TYPE_HIT || this.cells[x][y] === CONST.TYPE_SUNK;\n// \t};\n\t\n// \t// Fleet object\n// \t// This object is used to keep track of a player's portfolio of ships\n// \t// Constructor\n// \tfunction Fleet(playerGrid, player) {\n// \t\tthis.numShips = CONST.AVAILABLE_SHIPS.length;\n// \t\tthis.playerGrid = playerGrid;\n// \t\tthis.player = player;\n// \t\tthis.fleetRoster = [];\n// \t\tthis.populate();\n// \t}\n// \t// Populates a fleet\n// \tFleet.prototype.populate = function() {\n// \t\tfor (var i = 0; i < this.numShips; i++) {\n// \t\t\t// loop over the ship types when numShips > Constants.AVAILABLE_SHIPS.length\n// \t\t\tvar j = i % CONST.AVAILABLE_SHIPS.length;\n// \t\t\tthis.fleetRoster.push(new Ship(CONST.AVAILABLE_SHIPS[j], this.playerGrid, this.player));\n// \t\t}\n// \t};\n// \t// Places the ship and returns whether or not the placement was successful\n// \t// Returns boolean\n// \tFleet.prototype.placeShip = function(x, y, direction, shipType) {\n// \t\tvar shipCoords;\n// \t\tfor (var i = 0; i < this.fleetRoster.length; i++) {\n// \t\t\tvar shipTypes = this.fleetRoster[i].type;\n\t\n// \t\t\tif (shipType === shipTypes &&\n// \t\t\t\tthis.fleetRoster[i].isLegal(x, y, direction)) {\n// \t\t\t\tthis.fleetRoster[i].create(x, y, direction, false);\n// \t\t\t\tshipCoords = this.fleetRoster[i].getAllShipCells();\n\t\n// \t\t\t\tfor (var j = 0; j < shipCoords.length; j++) {\n// \t\t\t\t\tthis.playerGrid.updateCell(shipCoords[j].x, shipCoords[j].y, 'ship', this.player);\n// \t\t\t\t}\n// \t\t\t\treturn true;\n// \t\t\t}\n// \t\t}\n// \t\treturn false;\n// \t};\n// \t// Places ships randomly on the board\n// \t// TODO: Avoid placing ships too close to each other\n// \tFleet.prototype.placeShipsRandomly = function() {\n// \t\tvar shipCoords;\n// \t\tfor (var i = 0; i < this.fleetRoster.length; i++) {\n// \t\t\tvar illegalPlacement = true;\n\t\t\n// \t\t\t// Prevents the random placement of already placed ships\n// \t\t\tif(this.player === CONST.HUMAN_PLAYER && Game.usedShips[i] === CONST.USED) {\n// \t\t\t\tcontinue;\n// \t\t\t}\n// \t\t\twhile (illegalPlacement) {\n// \t\t\t\tvar randomX = Math.floor(Game.size * Math.random());\n// \t\t\t\tvar randomY = Math.floor(Game.size * Math.random());\n// \t\t\t\tvar randomDirection = Math.floor(2*Math.random());\n\t\t\t\t\n// \t\t\t\tif (this.fleetRoster[i].isLegal(randomX, randomY, randomDirection)) {\n// \t\t\t\t\tthis.fleetRoster[i].create(randomX, randomY, randomDirection, false);\n// \t\t\t\t\tshipCoords = this.fleetRoster[i].getAllShipCells();\n// \t\t\t\t\tillegalPlacement = false;\n// \t\t\t\t} else {\n// \t\t\t\t\tcontinue;\n// \t\t\t\t}\n// \t\t\t}\n// \t\t\tif (this.player === CONST.HUMAN_PLAYER && Game.usedShips[i] !== CONST.USED) {\n// \t\t\t\tfor (var j = 0; j < shipCoords.length; j++) {\n// \t\t\t\t\tthis.playerGrid.updateCell(shipCoords[j].x, shipCoords[j].y, 'ship', this.player);\n// \t\t\t\t\tGame.usedShips[i] = CONST.USED;\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Finds a ship by location\n// \t// Returns the ship object located at (x, y)\n// \t// If no ship exists at (x, y), this returns null instead\n// \tFleet.prototype.findShipByCoords = function(x, y) {\n// \t\tfor (var i = 0; i < this.fleetRoster.length; i++) {\n// \t\t\tvar currentShip = this.fleetRoster[i];\n// \t\t\tif (currentShip.direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\t\tif (y === currentShip.yPosition &&\n// \t\t\t\t\tx >= currentShip.xPosition &&\n// \t\t\t\t\tx < currentShip.xPosition + currentShip.shipLength) {\n// \t\t\t\t\treturn currentShip;\n// \t\t\t\t} else {\n// \t\t\t\t\tcontinue;\n// \t\t\t\t}\n// \t\t\t} else {\n// \t\t\t\tif (x === currentShip.xPosition &&\n// \t\t\t\t\ty >= currentShip.yPosition &&\n// \t\t\t\t\ty < currentShip.yPosition + currentShip.shipLength) {\n// \t\t\t\t\treturn currentShip;\n// \t\t\t\t} else {\n// \t\t\t\t\tcontinue;\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t\treturn null;\n// \t};\n// \t// Finds a ship by its type\n// \t// Param shipType is a string\n// \t// Returns the ship object that is of type shipType\n// \t// If no ship exists, this returns null.\n// \tFleet.prototype.findShipByType = function(shipType) {\n// \t\tfor (var i = 0; i < this.fleetRoster.length; i++) {\n// \t\t\tif (this.fleetRoster[i].type === shipType) {\n// \t\t\t\treturn this.fleetRoster[i];\n// \t\t\t}\n// \t\t}\n// \t\treturn null;\n// \t};\n// \t// Checks to see if all ships have been sunk\n// \t// Returns boolean\n// \tFleet.prototype.allShipsSunk = function() {\n// \t\tfor (var i = 0; i < this.fleetRoster.length; i++) {\n// \t\t\t// If one or more ships are not sunk, then the sentence \"all ships are sunk\" is false.\n// \t\t\tif (this.fleetRoster[i].sunk === false) {\n// \t\t\t\treturn false;\n// \t\t\t}\n// \t\t}\n// \t\treturn true;\n// \t};\n\t\n// \t// Ship object\n// \t// Constructor\n// \tfunction Ship(type, playerGrid, player) {\n// \t\tthis.damage = 0;\n// \t\tthis.type = type;\n// \t\tthis.playerGrid = playerGrid;\n// \t\tthis.player = player;\n\t\n// \t\tswitch (this.type) {\n// \t\t\tcase CONST.AVAILABLE_SHIPS[0]:\n// \t\t\t\tthis.shipLength = 1;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[1]:\n// \t\t\t\tthis.shipLength = 1;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[2]:\n// \t\t\t\tthis.shipLength = 1;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[3]:\n// \t\t\t\tthis.shipLength = 1;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[4]:\n// \t\t\t\tthis.shipLength = 2;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[5]:\n// \t\t\t\tthis.shipLength = 2;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[6]:\n// \t\t\t\tthis.shipLength = 2;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[7]:\n// \t\t\t\tthis.shipLength = 3;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[8]:\n// \t\t\t\tthis.shipLength = 3;\n// \t\t\t\tbreak;\n// \t\t\tcase CONST.AVAILABLE_SHIPS[9]:\n// \t\t\t\tthis.shipLength = 4;\n// \t\t\t\tbreak;\n// \t\t}\n// \t\tthis.maxDamage = this.shipLength;\n// \t\tthis.sunk = false;\n// \t}\n// \t// Checks to see if the placement of a ship is legal\n// \t// Returns boolean\n// \tShip.prototype.isLegal = function(x, y, direction) {\n// \t\t// first, check if the ship is within the grid...\n// \t\tif (this.withinBounds(x, y, direction)) {\n// \t\t\t// ...then check to make sure it doesn't collide with another ship\n// \t\t\tfor (var i = 0; i < this.shipLength; i++) {\n// \t\t\t\tif (direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\t\t\tif (this.playerGrid.cells[x + i][y] === CONST.TYPE_SHIP ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x + i][y] === CONST.TYPE_MISS ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x + i][y] === CONST.TYPE_SUNK ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x + i][y] === CONST.TYPE_NOT_ALLOWED) {\n// \t\t\t\t\t\treturn false;\n// \t\t\t\t\t}\n// \t\t\t\t} else {\n// \t\t\t\t\tif (this.playerGrid.cells[x][y + i] === CONST.TYPE_SHIP ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x][y + i] === CONST.TYPE_MISS ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x][y + i] === CONST.TYPE_SUNK ||\n// \t\t\t\t\t\tthis.playerGrid.cells[x][y + i] === CONST.TYPE_NOT_ALLOWED){\n// \t\t\t\t\t\treturn false;\n// \t\t\t\t\t}\n// \t\t\t\t}\n// \t\t\t}\n// \t\t\treturn true;\n// \t\t} else {\n// \t\t\treturn false;\n// \t\t}\n// \t};\n// \t// Checks to see if the ship is within bounds of the grid\n// \t// Returns boolean\n// \tShip.prototype.withinBounds = function(x, y, direction) {\n// \t\tif (direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\treturn x + this.shipLength <= Game.size;\n// \t\t} else {\n// \t\t\treturn y + this.shipLength <= Game.size;\n// \t\t}\n// \t};\n\t\n// \t// Increments the damage counter of a ship\n// \t// Returns Ship\n// \tShip.prototype.incrementDamage = function() {\n// \t\tthis.damage++;\n// \t\tif (this.isSunk()) {\n// \t\t\tthis.sinkShip(false); // Sinks the ship\n// \t\t}\n// \t};\n// \t// Checks to see if the ship is sunk\n// \t// Returns boolean\n// \tShip.prototype.isSunk = function() {\n// \t\treturn this.damage >= this.maxDamage;\n// \t};\n// \t// Sinks the ship\n// \tShip.prototype.sinkShip = function(virtual) {\n// \t\tthis.damage = this.maxDamage; // Force the damage to exceed max damage\n// \t\tthis.sunk = true;\n\t\n// \t\t// Make the CSS class sunk, but only if the ship is not virtual\n// \t\tif (!virtual) {\n// \t\t\tvar allCells = this.getAllShipCells();\n// \t\t\tfor (var i = 0; i < this.shipLength; i++) {\n// \t\t\t\tthis.playerGrid.updateCell(allCells[i].x, allCells[i].y, 'sunk', this.player);\n// \t\t\t}\n// \t\t}\n// \t};\n// \t/**\n// \t * Gets all the ship cells\n// \t *\n// \t * Returns an array with all (x, y) coordinates of the ship:\n// \t * e.g.\n// \t * [\n// \t *\t{'x':2, 'y':2},\n// \t *\t{'x':3, 'y':2},\n// \t *\t{'x':4, 'y':2}\n// \t * ]\n// \t */\n// \tShip.prototype.getAllShipCells = function() {\n// \t\tvar resultObject = [];\n// \t\tfor (var i = 0; i < this.shipLength; i++) {\n// \t\t\tif (this.direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\t\tresultObject[i] = {'x': this.xPosition + i, 'y': this.yPosition};\n// \t\t\t} else {\n// \t\t\t\tresultObject[i] = {'x': this.xPosition, 'y': this.yPosition + i};\n// \t\t\t}\n// \t\t}\n// \t\treturn resultObject;\n// \t};\n// \t// Initializes a ship with the given coordinates and direction (bearing).\n// \t// If the ship is declared \"virtual\", then the ship gets initialized with\n// \t// its coordinates but DOESN'T get placed on the grid.\n// \tShip.prototype.create = function(x, y, direction, virtual) {\n// \t\t// This function assumes that you've already checked that the placement is legal\n// \t\tthis.xPosition = x;\n// \t\tthis.yPosition = y;\n// \t\tthis.direction = direction;\n\t\n// \t\t// If the ship is virtual, don't add it to the grid.\n// \t\tif (!virtual) {\n// \t\t\tfor (var i = 0; i < this.shipLength; i++) {\n// \t\t\t\tif (this.direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\t\t\tthis.playerGrid.cells[x + i][y] = CONST.TYPE_SHIP;\n\n// \t\t\t\t\tif(this.checkPosition(x + i, y + 1)) {\n// \t\t\t\t\t\tthis.playerGrid.cells[x + i][y + 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t\t}\n// \t\t\t\t\tif(this.checkPosition(x + i, y - 1)) {\n// \t\t\t\t\t\tthis.playerGrid.cells[x + i][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t\t}\n\n// \t\t\t\t} else {\n// \t\t\t\t\tthis.playerGrid.cells[x][y + i] = CONST.TYPE_SHIP;\n\t\t\t\t\t\n// \t\t\t\t\tif(this.checkPosition(x + 1, y + i)) {\n// \t\t\t\t\t\tthis.playerGrid.cells[x + 1][y + i] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t\t}\n// \t\t\t\t\tif(this.checkPosition(x - 1, y + i)) {\n// \t\t\t\t\t\tthis.playerGrid.cells[x - 1][y + i] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t\t}\n// \t\t\t\t}\n// \t\t\t}\n// \t\t\tif (this.direction === Ship.DIRECTION_VERTICAL) {\n// \t\t\t\tif(this.checkPosition(x - 1, y - 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x - 1][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x - 1, y)) {\n// \t\t\t\t\tthis.playerGrid.cells[x - 1][y] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x - 1, y + 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x - 1][y + 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x + this.shipLength, y - 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x + this.shipLength][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x + this.shipLength, y)) {\n// \t\t\t\t\tthis.playerGrid.cells[x + this.shipLength][y] = CONST.TYPE_NOT_ALLOWED; \n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x + this.shipLength, y + 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x + this.shipLength][y + 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n\n// \t\t\t} else {\n// \t\t\t\tif(this.checkPosition(x + 1, y - 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x + 1][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x - 1, y - 1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x - 1][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x, y-1)) {\n// \t\t\t\t\tthis.playerGrid.cells[x][y - 1] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x + 1, y + this.shipLength)) {\n// \t\t\t\t\tthis.playerGrid.cells[x + 1][y + this.shipLength] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x - 1, y + this.shipLength)) {\n// \t\t\t\t\tthis.playerGrid.cells[x - 1][y + this.shipLength] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t\tif(this.checkPosition(x, y + this.shipLength)) {\n// \t\t\t\t\tthis.playerGrid.cells[x][y + this.shipLength] = CONST.TYPE_NOT_ALLOWED;\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\t\t\n// \t};\n\n// \tShip.prototype.checkPosition = function(x, y) {\n// \t\tlet triger = false;\n// \t\tif (x < 10 && y < 10 && x >= 0 && y >= 0) {\n// \t\t\ttriger = true;\n// \t\t}\n// \t\treturn triger\n// \t};\n// \t// direction === 0 when the ship is facing north/south\n// \t// direction === 1 when the ship is facing east/west\n// \tShip.DIRECTION_VERTICAL = 0;\n// \tShip.DIRECTION_HORIZONTAL = 1;\n\t\n// \t// Tutorial Object\n// \t// Constructor\n// \tfunction Tutorial() {\n// \t\tthis.currentStep = 0;\n// \t\t// Check if 'showTutorial' is initialized, if it's uninitialized, set it to true.\n// \t\tthis.showTutorial = localStorage.getItem('showTutorial') !== 'false';\n// \t}\n// \t// Advances the tutorial to the next step\n// \tTutorial.prototype.nextStep = function() {\n// \t\tvar humanGrid = document.querySelector('.human-player');\n// \t\tvar computerGrid = document.querySelector('.computer-player');\n// \t\tswitch (this.currentStep) {\n// \t\t\tcase 0:\n// \t\t\t\tdocument.getElementById('roster-sidebar').setAttribute('class', 'highlight');\n// \t\t\t\tdocument.getElementById('step1').setAttribute('class', 'current-step');\n// \t\t\t\tthis.currentStep++;\n// \t\t\t\tbreak;\n// \t\t\tcase 1:\n// \t\t\t\tdocument.getElementById('roster-sidebar').removeAttribute('class');\n// \t\t\t\tdocument.getElementById('step1').removeAttribute('class');\n// \t\t\t\thumanGrid.setAttribute('class', humanGrid.getAttribute('class') + ' highlight');\n// \t\t\t\tdocument.getElementById('step2').setAttribute('class', 'current-step');\n// \t\t\t\tthis.currentStep++;\n// \t\t\t\tbreak;\n// \t\t\tcase 2:\n// \t\t\t\tdocument.getElementById('step2').removeAttribute('class');\n// \t\t\t\tvar humanClasses = humanGrid.getAttribute('class');\n// \t\t\t\thumanClasses = humanClasses.replace(' highlight', '');\n// \t\t\t\thumanGrid.setAttribute('class', humanClasses);\n// \t\t\t\tthis.currentStep++;\n// \t\t\t\tbreak;\n// \t\t\tcase 3:\n// \t\t\t\tcomputerGrid.setAttribute('class', computerGrid.getAttribute('class') + ' highlight');\n// \t\t\t\tdocument.getElementById('step3').setAttribute('class', 'current-step');\n// \t\t\t\tthis.currentStep++;\n// \t\t\t\tbreak;\n// \t\t\tcase 4:\n// \t\t\t\tvar computerClasses = computerGrid.getAttribute('class');\n// \t\t\t\tdocument.getElementById('step3').removeAttribute('class');\n// \t\t\t\tcomputerClasses = computerClasses.replace(' highlight', '');\n// \t\t\t\tcomputerGrid.setAttribute('class', computerClasses);\n// \t\t\t\tdocument.getElementById('step4').setAttribute('class', 'current-step');\n// \t\t\t\tthis.currentStep++;\n// \t\t\t\tbreak;\n// \t\t\tcase 5:\n// \t\t\t\tdocument.getElementById('step4').removeAttribute('class');\n// \t\t\t\tthis.currentStep = 6;\n// \t\t\t\tthis.showTutorial = false;\n// \t\t\t\tlocalStorage.setItem('showTutorial', false);\n// \t\t\t\tbreak;\n// \t\t\tdefault:\n// \t\t\t\tbreak;\n// \t\t}\n// \t};\n\t\n// \t// AI Object\n// \t// Optimal battleship-playing AI\n// \t// Constructor\n// \tfunction AI(gameObject) {\n// \t\tthis.gameObject = gameObject;\n// \t\tthis.virtualGrid = new Grid(Game.size);\n// \t\tthis.virtualFleet = new Fleet(this.virtualGrid, CONST.VIRTUAL_PLAYER);\n\t\n// \t\tthis.probGrid = []; // Probability Grid\n// \t\tthis.initProbs();\n// \t\tthis.updateProbs();\n// \t}\n// \tAI.PROB_WEIGHT = 5000; // arbitrarily big number\n// \t// how much weight to give to the opening book's high probability cells\n// \tAI.OPEN_HIGH_MIN = 20;\n// \tAI.OPEN_HIGH_MAX = 30;\n// \t// how much weight to give to the opening book's medium probability cells\n// \tAI.OPEN_MED_MIN = 15;\n// \tAI.OPEN_MED_MAX = 25;\n// \t// how much weight to give to the opening book's low probability cells\n// \tAI.OPEN_LOW_MIN = 10;\n// \tAI.OPEN_LOW_MAX = 20;\n// \t// Amount of randomness when selecting between cells of equal probability\n// \tAI.RANDOMNESS = 0.1;\n// \t// AI's opening book.\n// \t// This is the pattern of the first cells for the AI to target\n// \tAI.OPENINGS = [\n// \t\t{'x': 7, 'y': 3, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 6, 'y': 2, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 3, 'y': 7, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 2, 'y': 6, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 6, 'y': 6, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 3, 'y': 3, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 5, 'y': 5, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t{'x': 4, 'y': 4, 'weight': getRandom(AI.OPEN_LOW_MIN, AI.OPEN_LOW_MAX)},\n// \t\t// {'x': 9, 'y': 5, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t// {'x': 0, 'y': 4, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t// {'x': 5, 'y': 9, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t// {'x': 4, 'y': 0, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t{'x': 0, 'y': 8, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t{'x': 1, 'y': 9, 'weight': getRandom(AI.OPEN_HIGH_MIN, AI.OPEN_HIGH_MAX)},\n// \t\t{'x': 8, 'y': 0, 'weight': getRandom(AI.OPEN_MED_MIN, AI.OPEN_MED_MAX)},\n// \t\t{'x': 9, 'y': 1, 'weight': getRandom(AI.OPEN_HIGH_MIN, AI.OPEN_HIGH_MAX)},\n// \t\t{'x': 9, 'y': 9, 'weight': getRandom(AI.OPEN_HIGH_MIN, AI.OPEN_HIGH_MAX)},\n// \t\t{'x': 0, 'y': 0, 'weight': getRandom(AI.OPEN_HIGH_MIN, AI.OPEN_HIGH_MAX)}\n// \t];\n// \t// Scouts the grid based on max probability, and shoots at the cell\n// \t// that has the highest probability of containing a ship\n// \tAI.prototype.shoot = function() {\n// \t\tvar maxProbability = 0;\n// \t\tvar maxProbCoords;\n// \t\tvar maxProbs = [];\n\t\t\n// \t\t// Add the AI's opening book to the probability grid\n// \t\tfor (var i = 0; i < AI.OPENINGS.length; i++) {\n// \t\t\tvar cell = AI.OPENINGS[i];\n// \t\t\tif (this.probGrid[cell.x][cell.y] !== 0) {\n// \t\t\t\tthis.probGrid[cell.x][cell.y] += cell.weight;\n// \t\t\t}\n// \t\t}\n\t\n// \t\tfor (var x = 0; x < Game.size; x++) {\n// \t\t\tfor (var y = 0; y < Game.size; y++) {\n// \t\t\t\tif (this.probGrid[x][y] > maxProbability) {\n// \t\t\t\t\tmaxProbability = this.probGrid[x][y];\n// \t\t\t\t\tmaxProbs = [{'x': x, 'y': y}]; // Replace the array\n// \t\t\t\t} else if (this.probGrid[x][y] === maxProbability) {\n// \t\t\t\t\tmaxProbs.push({'x': x, 'y': y});\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n\t\n// \t\tmaxProbCoords = Math.random() < AI.RANDOMNESS ?\n// \t\tmaxProbs[Math.floor(Math.random() * maxProbs.length)] :\n// \t\tmaxProbs[0];\n\t\n// \t\tvar result = this.gameObject.shoot(maxProbCoords.x, maxProbCoords.y, CONST.HUMAN_PLAYER);\n\t\t\n// \t\t// If the game ends, the next lines need to be skipped.\n// \t\tif (Game.gameOver) {\n// \t\t\tGame.gameOver = false;\n// \t\t\treturn;\n// \t\t}\n\t\n// \t\tthis.virtualGrid.cells[maxProbCoords.x][maxProbCoords.y] = result;\n\t\n// \t\t// If you hit a ship, check to make sure if you've sunk it.\n// \t\tif (result === CONST.TYPE_HIT) {\n// \t\t\tvar humanShip = this.findHumanShip(maxProbCoords.x, maxProbCoords.y);\n// \t\t\tif (humanShip.isSunk()) {\n// \t\t\t\t// Remove any ships from the roster that have been sunk\n// \t\t\t\tvar shipTypes = [];\n// \t\t\t\tfor (var k = 0; k < this.virtualFleet.fleetRoster.length; k++) {\n// \t\t\t\t\tshipTypes.push(this.virtualFleet.fleetRoster[k].type);\n// \t\t\t\t}\n// \t\t\t\tvar index = shipTypes.indexOf(humanShip.type);\n// \t\t\t\tthis.virtualFleet.fleetRoster.splice(index, 1);\n\t\n// \t\t\t\t// Update the virtual grid with the sunk ship's cells\n// \t\t\t\tvar shipCells = humanShip.getAllShipCells();\n// \t\t\t\tfor (var _i = 0; _i < shipCells.length; _i++) {\n// \t\t\t\t\tthis.virtualGrid.cells[shipCells[_i].x][shipCells[_i].y] = CONST.TYPE_SUNK;\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t\t// Update probability grid after each shot\n// \t\tthis.updateProbs();\n// \t};\n// \t// Update the probability grid\n// \tAI.prototype.updateProbs = function() {\n// \t\tvar roster = this.virtualFleet.fleetRoster;\n// \t\tvar coords;\n// \t\tthis.resetProbs();\n\t\n// \t\t// Probabilities are not normalized to fit in the interval [0, 1]\n// \t\t// because we're only interested in the maximum value.\n\t\n// \t\t// This works by trying to fit each ship in each cell in every orientation\n// \t\t// For every cell, the more legal ways a ship can pass through it, the more\n// \t\t// likely the cell is to contain a ship.\n// \t\t// Cells that surround known 'hits' are given an arbitrarily large probability\n// \t\t// so that the AI tries to completely sink the ship before moving on.\n\t\n// \t\t// TODO: Think about a more efficient implementation\n// \t\tfor (var k = 0; k < roster.length; k++) {\n// \t\t\tfor (var x = 0; x < Game.size; x++) {\n// \t\t\t\tfor (var y = 0; y < Game.size; y++) {\n// \t\t\t\t\tif (roster[k].isLegal(x, y, Ship.DIRECTION_VERTICAL)) {\n// \t\t\t\t\t\troster[k].create(x, y, Ship.DIRECTION_VERTICAL, true);\n// \t\t\t\t\t\tcoords = roster[k].getAllShipCells();\n// \t\t\t\t\t\tif (this.passesThroughHitCell(coords)) {\n// \t\t\t\t\t\t\tfor (var i = 0; i < coords.length; i++) {\n// \t\t\t\t\t\t\t\tthis.probGrid[coords[i].x][coords[i].y] += AI.PROB_WEIGHT * this.numHitCellsCovered(coords);\n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t} else {\n// \t\t\t\t\t\t\tfor (var _i = 0; _i < coords.length; _i++) {\n// \t\t\t\t\t\t\t\tthis.probGrid[coords[_i].x][coords[_i].y]++;\n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n// \t\t\t\t\tif (roster[k].isLegal(x, y, Ship.DIRECTION_HORIZONTAL)) {\n// \t\t\t\t\t\troster[k].create(x, y, Ship.DIRECTION_HORIZONTAL, true);\n// \t\t\t\t\t\tcoords = roster[k].getAllShipCells();\n// \t\t\t\t\t\tif (this.passesThroughHitCell(coords)) {\n// \t\t\t\t\t\t\tfor (var j = 0; j < coords.length; j++) {\n// \t\t\t\t\t\t\t\tthis.probGrid[coords[j].x][coords[j].y] += AI.PROB_WEIGHT * this.numHitCellsCovered(coords);\n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t} else {\n// \t\t\t\t\t\t\tfor (var _j = 0; _j < coords.length; _j++) {\n// \t\t\t\t\t\t\t\tthis.probGrid[coords[_j].x][coords[_j].y]++;\n// \t\t\t\t\t\t\t}\n// \t\t\t\t\t\t}\n// \t\t\t\t\t}\n\t\n// \t\t\t\t\t// Set hit cells to probability zero so the AI doesn't\n// \t\t\t\t\t// target cells that are already hit\n// \t\t\t\t\tif (this.virtualGrid.cells[x][y] === CONST.TYPE_HIT) {\n// \t\t\t\t\t\tthis.probGrid[x][y] = 0;\n// \t\t\t\t\t}\n// \t\t\t\t}\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Initializes the probability grid for targeting\n// \tAI.prototype.initProbs = function() {\n// \t\tfor (var x = 0; x < Game.size; x++) {\n// \t\t\tvar row = [];\n// \t\t\tthis.probGrid[x] = row;\n// \t\t\tfor (var y = 0; y < Game.size; y++) {\n// \t\t\t\trow.push(0);\n// \t\t\t}\n// \t\t}\n// \t};\n// \t// Resets the probability grid to all 0.\n// \tAI.prototype.resetProbs = function() {\n// \t\tfor (var x = 0; x < Game.size; x++) {\n// \t\t\tfor (var y = 0; y < Game.size; y++) {\n// \t\t\t\tthis.probGrid[x][y] = 0;\n// \t\t\t}\n// \t\t}\n// \t};\n// \tAI.prototype.metagame = function() {\n// \t\t// Inputs:\n// \t\t// Proximity of hit cells to edge\n// \t\t// Proximity of hit cells to each other\n// \t\t// Edit the probability grid by multiplying each cell with a new probability weight (e.g. 0.4, or 3). Set this as a CONST and make 1-CONST the inverse for decreasing, or 2*CONST for increasing\n// \t};\n// \t// Finds a human ship by coordinates\n// \t// Returns Ship\n// \tAI.prototype.findHumanShip = function(x, y) {\n// \t\treturn this.gameObject.humanFleet.findShipByCoords(x, y);\n// \t};\n// \t// Checks whether or not a given ship's cells passes through\n// \t// any cell that is hit.\n// \t// Returns boolean\n// \tAI.prototype.passesThroughHitCell = function(shipCells) {\n// \t\tfor (var i = 0; i < shipCells.length; i++) {\n// \t\t\tif (this.virtualGrid.cells[shipCells[i].x][shipCells[i].y] === CONST.TYPE_HIT) {\n// \t\t\t\treturn true;\n// \t\t\t}\n// \t\t}\n// \t\treturn false;\n// \t};\n// \t// Gives the number of hit cells the ships passes through. The more\n// \t// cells this is, the more probable the ship exists in those coordinates\n// \t// Returns int\n// \tAI.prototype.numHitCellsCovered = function(shipCells) {\n// \t\tvar cells = 0;\n// \t\tfor (var i = 0; i < shipCells.length; i++) {\n// \t\t\tif (this.virtualGrid.cells[shipCells[i].x][shipCells[i].y] === CONST.TYPE_HIT) {\n// \t\t\t\tcells++;\n// \t\t\t}\n// \t\t}\n// \t\treturn cells;\n// \t};\n\t\n// \t// Global constant only initialized once\n// \tvar gameTutorial = new Tutorial();\n\t\n// \t// Start the game\n// \tvar mainGame = new Game(10);\n\n\t\n// \t// Browser compatability workaround for transition end event names.\n// \t// From modernizr: http://stackoverflow.com/a/9090128\n// \tfunction transitionEndEventName() {\n// \t\tvar i,\n// \t\t\tundefined,\n// \t\t\tel = document.createElement('div'),\n// \t\t\ttransitions = {\n// \t\t\t\t'transition':'transitionend',\n// \t\t\t\t'OTransition':'otransitionend',  // oTransitionEnd in very old Opera\n// \t\t\t\t'MozTransition':'transitionend',\n// \t\t\t\t'WebkitTransition':'webkitTransitionEnd'\n// \t\t\t};\n\n// \t\tfor (i in transitions) {\n// \t\t\tif (transitions.hasOwnProperty(i) && el.style[i] !== undefined) {\n// \t\t\t\treturn transitions[i];\n// \t\t\t}\n// \t\t}\n// \t}\n\t\n// \t// Returns a random number between min (inclusive) and max (exclusive)\n// \tfunction getRandom(min, max) {\n// \t\treturn Math.random() * (max - min) + min;\n// \t}\n\nclass BattlesComponent extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n            battles: []\n        }\n    }\n    componentDidMount(){\n        Service.getAllBattles().then((res) => {\n            this.setState({battles: res.data.content});\n        });\n    }\n    render() {\n        return (\n            <div className=\"container text-center\">\n                <h2>Battles List</h2>\n            <div className=\"game-container\">\n<div className=\"game-container\">\n\t\t<div id=\"restart-sidebar\" className=\"hidden\">\n\t\t\t<h2>Try Again</h2>\n\t\t\t<button id=\"restart-game\">Restart Game</button>\n\t\t</div><div id=\"roster-sidebar\">\n\t\t\t<h2>Place Your Ships</h2>\n\t\t\t<ul className=\"fleet-roster\" id=\"fleet-roster\">\n\t\t\t\t<li id=\"1.1\">1 երկարության</li>\n\t\t\t\t<li id=\"1.2\">1 երկարության</li>\n\t\t\t\t<li id=\"1.3\">1 երկարության</li>\n\t\t\t\t<li id=\"1.4\">1 երկարության</li>\n\t\t\t\t<li id=\"2.1\">2 երկարության</li>\n\t\t\t\t<li id=\"2.2\">2 երկարության</li>\n\t\t\t\t<li id=\"2.3\">2 երկարության</li>\n\t\t\t\t<li id=\"3.1\">3 երկարության</li>\n\t\t\t\t<li id=\"3.2\">3 երկարության</li>\n\t\t\t\t<li id=\"4.1\">4 երկարության</li>\n\t\t\t</ul>\n\t\t\t<button id=\"rotate-button\" data-direction=\"0\">Rotate Ship</button>\n\t\t\t<button id=\"start-game\" className=\"hidden\">Start Game</button>\n\t\t\t<button id=\"place-randomly\" className=\"hidden\">Place Randomly and Start</button>\n\t\t</div><div className=\"grid-container\">\n\t\t\t<h2>Your Fleet</h2>\n\t\t\t<div className=\"grid human-player\"><span className=\"no-js\">Please enable JavaScript to play this game</span></div>\n\t\t</div><div className=\"grid-container\">\n\t\t\t<h2>Enemy Fleet</h2>\n\t\t\t<div className=\"grid computer-player\"><span className=\"no-js\">Please enable JavaScript to play this game</span></div>\n\t\t</div>\n\t</div>\n\t\n</div>\n{/* <script src=\"js/battleboat.js\"></script> */}\n<span className=\"prefetch\" id=\"prefetch1\"></span>\n<span className=\"prefetch\" id=\"prefetch2\"></span>\n<span className=\"prefetch\" id=\"prefetch3\"></span>\n\n<Stylesheet />\n            </div>\n        );\n    }\n}\n\nexport default withRouter(BattlesComponent);"]},"metadata":{},"sourceType":"module"}